webpackJsonp([1],{"+RNP":function(e,t){},"/AuU":function(e,t){},"1sAO":function(e,t){},"2Ikh":function(e,t){},"2kGn":function(e,t){},"3qwG":function(e,t){},D4uH:function(e,t,r){"use strict";function o(){return"fa-"+(i++).toString(16)}function l(e){r("/AuU")}var a={},n={name:"icon",props:{name:{type:String,validator:function(e){return e?e in a||(console.warn('Invalid prop: prop "name" is referring to an unregistered icon "'+e+'".\nPlesase make sure you have imported this icon before using it.'),!1):(console.warn('Invalid prop: prop "name" is required.'),!1)}},scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:function(e){return"horizontal"===e||"vertical"===e}},label:String},data:function(){return{x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var e=this.scale;return e=void 0===e?1:Number(e),isNaN(e)||e<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):e*this.outerScale},klass:function(){return{"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse}},icon:function(){return this.name?a[this.name]:null},box:function(){return this.icon?"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},ratio:function(){if(!this.icon)return 1;var e=this.icon,t=e.width,r=e.height;return Math.max(t,r)/16},width:function(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw:function(){if(!this.icon||!this.icon.raw)return null;var e=this.icon.raw,t={};return e=e.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,function(e,r){var l=o();return t[r]=l,' id="'+l+'"'}),e=e.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,function(e,r,o,l){var a=r||l;return a&&t[a]?"#"+t[a]:e}),e}},mounted:function(){var e=this;if(!this.icon){this.$children.forEach(function(t){t.outerScale=e.normalizedScale});var t=0,r=0;this.$children.forEach(function(e){t=Math.max(t,e.width),r=Math.max(r,e.height)}),this.childrenWidth=t,this.childrenHeight=r,this.$children.forEach(function(e){e.x=(t-e.width)/2,e.y=(r-e.height)/2})}},register:function(e){for(var t in e){var r=e[t];r.paths||(r.paths=[]),r.d&&r.paths.push({d:r.d}),r.polygons||(r.polygons=[]),r.points&&r.polygons.push({points:r.points}),a[t]=r}},icons:a},i=870711,s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{class:e.klass,style:e.style,attrs:{version:"1.1",role:e.label?"img":"presentation","aria-label":e.label,x:e.x,y:e.y,width:e.width,height:e.height,viewBox:e.box}},[e._t("default",[e.icon&&e.icon.paths?e._l(e.icon.paths,function(t,o){return r("path",e._b({key:"path-"+o},"path",t,!1))}):e._e(),e._v(" "),e.icon&&e.icon.polygons?e._l(e.icon.polygons,function(t,o){return r("polygon",e._b({key:"polygon-"+o},"polygon",t,!1))}):e._e(),e._v("\b\n    "),e.icon&&e.icon.raw?[r("g",{domProps:{innerHTML:e._s(e.raw)}})]:e._e()])],2)},c=[],u={render:s,staticRenderFns:c},m=u,d=r("VU/8"),p=l,f=d(n,m,!1,p,null,null);t.a=f.exports},"F/Jc":function(e,t){},HIhP:function(e,t){},HNr9:function(e,t){},"JDT+":function(e,t){},NHnr:function(e,t,r){"use strict";function o(e){r("d7id")}function l(e){r("Wbqc")}function a(e){r("1sAO")}function n(e){r("F/Jc")}function i(e){r("ybKS")}function s(e){r("HNr9")}function c(e){r("ogSn")}function u(e){r("rByS")}function m(e){r("HIhP")}function d(e){r("SQvr")}function p(e){r("2Ikh")}function f(e){r("galg")}function h(e){r("+RNP")}function b(e){r("JDT+")}function v(e){r("3qwG")}function y(e){r("l2mU")}function g(e){r("VpL8")}function _(e){r("2kGn")}function j(e){r("SVf7")}function k(e){r("sr4R")}function I(e){r("SZ5d")}Object.defineProperty(t,"__esModule",{value:!0});var x=r("7+uW"),$=r("zL8q"),w=r.n($),N=(r("tvR6"),{name:"app",data:function(){return{}},methods:{isRoutePath:function(e){return this.$route.path==e},isRouteIndexOf:function(e){return 0==this.$route.path.indexOf(e)}},created:function(){},watch:{$route:function(e,t){}}}),q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("header",{staticClass:"header"},[r("el-row",[r("el-col",{attrs:{span:24}},[r("h2",{attrs:{align:"center"}},[e._v("youran代码自动化平台")])])],1)],1),e._v(" "),r("main",[r("div",{staticClass:"main-left"},[r("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:!0}},[r("el-menu-item",{class:{"is-active":e.isRoutePath("/")},attrs:{index:"/"}},[e._v("首页")]),e._v(" "),r("el-menu-item",{class:{"is-active":e.isRouteIndexOf("/project")},attrs:{index:"/project"}},[e._v("项目管理")])],1)],1),e._v(" "),r("div",{staticClass:"main-right"},[r("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[r("router-view")],1)],1)])])},T=[],F={render:q,staticRenderFns:T},S=F,C=r("VU/8"),D=o,E=C(N,S,!1,D,null,null),O=E.exports,R=r("/ocq"),L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",[r("el-col",{attrs:{span:24}},[r("h1",{attrs:{align:"center"}},[e._v("欢迎访问youran代码自动化平台")])])],1)],1)},V=[],B={render:L,staticRenderFns:V},P=B,z=r("VU/8"),U=z(null,P,!1,null,null,null),A=U.exports,M=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[r("keep-alive",{attrs:{include:"projectList"}},[r("router-view")],1)],1)],1)},Q=[],K={render:M,staticRenderFns:Q},H=K,G=r("VU/8"),W=G(null,H,!1,null,null,null),J=W.exports,Y={name:"projectList",data:function(){return{query:{},activeNum:0,selectItems:[],entities:[],loading:!1}},methods:{selectionChange:function(e){this.selectItems=e,this.activeNum=this.selectItems.length},handleDel:function(){var e=this;if(this.activeNum<=0)return void this.$common.showMsg("warning","请选择项目");this.$common.confirm("是否确认删除").then(function(){return e.$ajax.post("/generate/meta_project/deleteBatch",e.selectItems.map(function(e){return e.projectId}))}).then(function(){return e.doQuery()})},doQuery:function(){var e=this;this.loading=!0,this.$ajax.post("/generate/meta_project/list",this.query).then(function(t){return e.$common.checkResult(t.data)}).then(function(t){return e.entities=t.data}).catch(function(t){return e.$common.showNotifyError(t)}).finally(function(){return e.loading=!1})},handleAdd:function(){this.$router.push("/project/add")},handleEntity:function(e){this.$router.push("/project/"+e.projectId+"/entity")},handleConst:function(e){this.$router.push("/project/"+e.projectId+"/const")},handleEdit:function(e){this.$router.push("/project/edit/"+e.projectId)},handleShow:function(e){this.$router.push("/project/show/"+e.projectId)},handleGenSql:function(e){window.open(this.$common.BASE_API_URL+"/generate/code_gen/genSql?projectId="+e.projectId)},handleGenCode:function(e){window.open(this.$common.BASE_API_URL+"/generate/code_gen/genCode?projectId="+e.projectId)}},activated:function(){this.doQuery()}},Z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"projectList"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",[e._v("项目管理")])],1),e._v(" "),r("el-row",{attrs:{type:"flex",align:"middle",gutter:20}},[r("el-col",{staticClass:"activeNum",attrs:{span:6}},[e._v("\n      已选择"+e._s(e.activeNum)+"个项目\n    ")]),e._v(" "),r("el-col",{staticStyle:{"text-align":"right"},attrs:{span:18}},[r("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){e.handleAdd(t)}}},[e._v("添加")]),e._v(" "),r("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){e.handleDel(t)}}},[e._v("删除")])],1)],1),e._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.entities},on:{"selection-change":e.selectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),r("el-table-column",{attrs:{property:"projectName",label:"项目名称"}}),e._v(" "),r("el-table-column",{attrs:{property:"author",label:"作者"}}),e._v(" "),r("el-table-column",{attrs:{property:"packageName",label:"包名"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){e.handleEntity(t.row)}}},[e._v("实体管理")]),e._v(" "),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){e.handleConst(t.row)}}},[e._v("枚举管理")]),e._v(" "),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){e.handleShow(t.row)}}},[e._v("查看")]),e._v(" "),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){e.handleEdit(t.row)}}},[e._v("编辑")]),e._v(" "),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){e.handleGenCode(t.row)}}},[e._v("生成代码")]),e._v(" "),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){e.handleGenSql(t.row)}}},[e._v("生成sql")])]}}])})],1)],1)},X=[],ee={render:Z,staticRenderFns:X},te=ee,re=r("VU/8"),oe=l,le=re(Y,te,!1,oe,null,null),ae=le.exports,ne={name:"projectAdd",data:function(){return{form:{projectName:"",packageName:"",author:""},rules:{projectName:[{required:!0,message:"请输入项目名称",trigger:"blur"},{max:50,message:"长度不能超过50个字符",trigger:"blur"}],packageName:[{required:!0,message:"请输入包名",trigger:"blur"},{max:100,message:"长度不能超过100个字符",trigger:"blur"}],author:[{required:!0,message:"请输入作者",trigger:"blur"},{max:50,message:"长度不能超过50个字符",trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.$refs.addForm.validate().then(function(){return e.$ajax.post("/generate/meta_project/save",e.form)}).then(function(t){return e.$common.checkResult(t.data)}).then(function(){e.$common.showMsg("success","添加成功"),e.goBack()}).catch(function(t){return e.$common.showNotifyError(t)})},goBack:function(){this.$router.push("/project")}},created:function(){}},ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"projectAdd"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/project"}}},[e._v("项目管理")]),e._v(" "),r("el-breadcrumb-item",[e._v("添加")])],1),e._v(" "),r("el-row",{attrs:{type:"flex",align:"middle",gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form",{ref:"addForm",staticClass:"addForm",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"项目名称",prop:"projectName"}},[r("el-input",{attrs:{placeholder:"例如：bbs"},model:{value:e.form.projectName,callback:function(t){e.$set(e.form,"projectName",t)},expression:"form.projectName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"包名",prop:"packageName"}},[r("el-input",{attrs:{placeholder:"例如：com.cbb.bbs"},model:{value:e.form.packageName,callback:function(t){e.$set(e.form,"packageName",t)},expression:"form.packageName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"作者",prop:"author"}},[r("el-input",{attrs:{placeholder:"例如：菜小哥"},model:{value:e.form.author,callback:function(t){e.$set(e.form,"author",t)},expression:"form.author"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit()}}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:function(t){e.goBack()}}},[e._v("返回")])],1)],1)],1)],1)],1)},se=[],ce={render:ie,staticRenderFns:se},ue=ce,me=r("VU/8"),de=a,pe=me(ne,ue,!1,de,null,null),fe=pe.exports,he=r("Dd8w"),be=r.n(he),ve={projectId:null,projectName:"",packageName:"",author:""},ye={name:"projectEdit",props:["projectId"],data:function(){return{old:be()({},ve),form:be()({},ve),rules:{projectName:[{required:!0,message:"请输入项目名称",trigger:"blur"},{max:50,message:"长度不能超过50个字符",trigger:"blur"}],packageName:[{required:!0,message:"请输入包名",trigger:"blur"},{max:100,message:"长度不能超过100个字符",trigger:"blur"}],author:[{required:!0,message:"请输入作者",trigger:"blur"},{max:50,message:"长度不能超过50个字符",trigger:"blur"}]}}},methods:{getProject:function(){var e=this;return this.$ajax.get("/generate/meta_project/"+this.projectId).then(function(t){return e.$common.checkResult(t.data)}).then(function(t){return e.old=t.data}).catch(function(t){return e.$common.showNotifyError(t)})},reset:function(){for(var e in ve)this.form[e]=this.old[e]},submit:function(){var e=this;this.$refs.editForm.validate().then(function(){return e.$ajax.put("/generate/meta_project/update",e.form)}).then(function(t){return e.$common.checkResult(t.data)}).then(function(){e.$common.showMsg("success","修改成功"),e.goBack()}).catch(function(t){return e.$common.showNotifyError(t)})},goBack:function(){this.$router.push("/project")}},created:function(){var e=this;this.getProject().then(function(){return e.reset()})}},ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"projectEdit"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/project"}}},[e._v("项目管理")]),e._v(" "),r("el-breadcrumb-item",[e._v("编辑")])],1),e._v(" "),r("el-row",{attrs:{type:"flex",align:"middle",gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form",{ref:"editForm",staticClass:"editForm",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"项目名称",prop:"projectName"}},[r("el-input",{attrs:{placeholder:"例如：bbs"},model:{value:e.form.projectName,callback:function(t){e.$set(e.form,"projectName",t)},expression:"form.projectName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"包名",prop:"packageName"}},[r("el-input",{attrs:{placeholder:"例如：com.cbb.bbs"},model:{value:e.form.packageName,callback:function(t){e.$set(e.form,"packageName",t)},expression:"form.packageName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"作者",prop:"author"}},[r("el-input",{attrs:{placeholder:"例如：菜小哥"},model:{value:e.form.author,callback:function(t){e.$set(e.form,"author",t)},expression:"form.author"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit()}}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:function(t){e.goBack()}}},[e._v("返回")])],1)],1)],1)],1)],1)},_e=[],je={render:ge,staticRenderFns:_e},ke=je,Ie=r("VU/8"),xe=n,$e=Ie(ye,ke,!1,xe,null,null),we=$e.exports,Ne={projectId:null,projectName:"",packageName:"",author:""},qe={name:"projectShow",props:["projectId"],data:function(){return{form:be()({},Ne)}},methods:{getProject:function(){var e=this;return this.$ajax.get("/generate/meta_project/"+this.projectId).then(function(t){return e.$common.checkResult(t.data)}).then(function(t){return e.form=t.data}).catch(function(t){return e.$common.showNotifyError(t)})},goBack:function(){this.$router.push("/project")}},created:function(){this.getProject()}},Te=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"projectShow"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/project"}}},[e._v("项目管理")]),e._v(" "),r("el-breadcrumb-item",[e._v("查看")])],1),e._v(" "),r("el-row",{attrs:{type:"flex",align:"middle",gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form",{ref:"showForm",staticClass:"showForm",attrs:{model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"项目名称",prop:"projectName"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.form.projectName,callback:function(t){e.$set(e.form,"projectName",t)},expression:"form.projectName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"包名",prop:"packageName"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.form.packageName,callback:function(t){e.$set(e.form,"packageName",t)},expression:"form.packageName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"作者",prop:"author"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.form.author,callback:function(t){e.$set(e.form,"author",t)},expression:"form.author"}})],1),e._v(" "),r("el-form-item",[r("el-button",{on:{click:function(t){e.goBack()}}},[e._v("返回")])],1)],1)],1)],1)],1)},Fe=[],Se={render:Te,staticRenderFns:Fe},Ce=Se,De=r("VU/8"),Ee=i,Oe=De(qe,Ce,!1,Ee,null,null),Re=Oe.exports,Le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[r("keep-alive",{attrs:{include:"entityList"}},[r("router-view")],1)],1)],1)},Ve=[],Be={render:Le,staticRenderFns:Ve},Pe=Be,ze=r("VU/8"),Ue=ze(null,Pe,!1,null,null,null),Ae=Ue.exports,Me={name:"entityList",props:["projectId"],data:function(){return{sqlPreview:"",sqlPreviewVisible:!1,query:{projectId:null},queryForm:{projectId:null},projectList:[],activeNum:0,selectItems:[],page:{pageNo:1,entityCount:0,pageSize:2,entities:[]},loading:!1}},methods:{selectionChange:function(e){this.selectItems=e,this.activeNum=this.selectItems.length},handleDel:function(){var e=this;if(this.activeNum<=0)return void this.$common.showMsg("warning","请选择实体");this.$common.confirm("是否确认删除").then(function(){return e.$ajax.post("/generate/meta_entity/deleteBatch",e.selectItems.map(function(e){return e.entityId}))}).then(function(){return e.doQuery()})},sizeChange:function(e){this.page.pageSize=e,this.doQuery()},currentChange:function(e){this.page.pageNo=e,this.doQuery()},queryProject:function(){var e=this;return this.$common.getProjectOptions().then(function(t){return e.$common.checkResult(t.data)}).then(function(t){return e.projectList=t.data})},handleQuery:function(){this.query=be()({},this.queryForm),this.query.projectId!=parseInt(this.projectId)&&this.$router.push("/project/"+this.query.projectId+"/entity"),this.doQuery()},doQuery:function(){var e=this;if(this.query.projectId){var t=be()({},this.query,{pageNo:this.page.pageNo,pageSize:this.page.pageSize});this.loading=!0,this.$ajax.post("/generate/meta_entity/list",t).then(function(t){return e.$common.checkResult(t.data)}).then(function(t){return e.page=t.data}).catch(function(t){return e.$common.showNotifyError(t)}).finally(function(){return e.loading=!1})}},handleAdd:function(){this.$router.push("/project/"+this.projectId+"/entity/add")},handleField:function(e){this.$router.push("/project/"+this.projectId+"/entity/"+e.entityId+"/field")},handleEdit:function(e){this.$router.push("/project/"+this.projectId+"/entity/edit/"+e.entityId)},handleShow:function(e){this.$router.push("/project/"+this.projectId+"/entity/show/"+e.entityId)},handleSqlPreview:function(e){var t=this;this.$ajax.get("/generate/code_gen/sqlPreview?entityId="+e.entityId).then(function(e){return t.$common.checkResult(e.data)}).then(function(e){t.sqlPreview=e.data,t.sqlPreviewVisible=!0}).catch(function(e){return t.$common.showNotifyError(e)})}},activated:function(){var e=this;this.queryProject().then(function(){e.queryForm.projectId=parseInt(e.projectId),e.query.projectId=e.queryForm.projectId}).then(function(){return e.doQuery()})}},Qe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"entityList"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/project"}}},[e._v("项目管理")]),e._v(" "),r("el-breadcrumb-item",[e._v("实体管理")])],1),e._v(" "),r("el-row",{staticStyle:{padding:"10px 0"},attrs:{type:"flex",align:"middle",gutter:20}},[r("el-col",{staticClass:"activeNum",attrs:{span:6}},[e._v("\n      已选择"+e._s(e.activeNum)+"个实体\n    ")]),e._v(" "),r("el-col",{staticStyle:{"text-align":"right"},attrs:{span:18}},[r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.queryForm}},[r("el-form-item",{attrs:{label:"请选择项目"}},[r("el-select",{attrs:{placeholder:"请选择项目"},model:{value:e.queryForm.projectId,callback:function(t){e.$set(e.queryForm,"projectId",t)},expression:"queryForm.projectId"}},e._l(e.projectList,function(e){return r("el-option",{key:e.projectId,attrs:{label:e.projectName,value:e.projectId}})}))],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.handleQuery}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){e.handleAdd(t)}}},[e._v("添加")]),e._v(" "),r("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){e.handleDel(t)}}},[e._v("删除")])],1)],1)],1)],1),e._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.page.entities},on:{"selection-change":e.selectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),r("el-table-column",{attrs:{property:"title",label:"实体名"}}),e._v(" "),r("el-table-column",{attrs:{property:"className",label:"类名"}}),e._v(" "),r("el-table-column",{attrs:{property:"tableName",label:"表名"}}),e._v(" "),r("el-table-column",{attrs:{property:"desc",label:"描述"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){e.handleField(t.row)}}},[e._v("字段管理")]),e._v(" "),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){e.handleShow(t.row)}}},[e._v("查看")]),e._v(" "),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){e.handleEdit(t.row)}}},[e._v("编辑")]),e._v(" "),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){e.handleSqlPreview(t.row)}}},[e._v("sql预览")])]}}])})],1),e._v(" "),r("el-row",{staticStyle:{padding:"20px 0"},attrs:{type:"flex",justify:"end"}},[r("el-pagination",{attrs:{"current-page":e.page.pageNo,"page-sizes":[10,20,30,40],"page-size":e.page.pageSize,layout:"sizes, prev, pager, next",total:e.page.entityCount},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1),e._v(" "),r("el-dialog",{attrs:{title:"查看sql",visible:e.sqlPreviewVisible,width:"50%"},on:{"update:visible":function(t){e.sqlPreviewVisible=t}}},[r("el-input",{attrs:{readonly:!0,type:"textarea",rows:20},model:{value:e.sqlPreview,callback:function(t){e.sqlPreview=t},expression:"sqlPreview"}}),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.sqlPreviewVisible=!1}}},[e._v("关 闭")])],1)],1)],1)},Ke=[],He={render:Qe,staticRenderFns:Ke},Ge=He,We=r("VU/8"),Je=s,Ye=We(Me,Ge,!1,Je,null,null),Ze=Ye.exports,Xe={name:"entityAdd",props:["projectId"],data:function(){return{projectList:[],form:{projectId:null,title:"",className:"",tableName:"",desc:"",commonCall:!0},rules:{projectId:[{required:!0,type:"number",message:"请选择项目",trigger:"change"}],title:[{required:!0,message:"请输入实体名",trigger:"blur"},{max:25,message:"长度不能超过25个字符",trigger:"blur"}],className:[{required:!0,message:"请输入类名",trigger:"blur"},{max:50,message:"长度不能超过50个字符",trigger:"blur"}],tableName:[{required:!0,message:"请输入表名",trigger:"blur"},{max:50,message:"长度不能超过50个字符",trigger:"blur"}],desc:[{max:250,message:"长度不能超过250个字符",trigger:"blur"}]}}},methods:{queryProject:function(){var e=this;return this.$common.getProjectOptions().then(function(t){return e.$common.checkResult(t.data)}).then(function(t){return e.projectList=t.data})},submit:function(){var e=this;this.$refs.addForm.validate().then(function(){return e.$ajax.post("/generate/meta_entity/save",e.form)}).then(function(t){return e.$common.checkResult(t.data)}).then(function(){e.$common.showMsg("success","添加成功"),e.goBack()}).catch(function(t){return e.$common.showNotifyError(t)})},goBack:function(){this.$router.push("/project/"+this.projectId+"/entity")}},created:function(){var e=this;this.queryProject().then(function(){return e.form.projectId=parseInt(e.projectId)})}},et=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"entityAdd"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/project"}}},[e._v("项目管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/project/"+this.projectId+"/entity"}}},[e._v("实体管理")]),e._v(" "),r("el-breadcrumb-item",[e._v("添加")])],1),e._v(" "),r("el-row",{attrs:{type:"flex",align:"middle",gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form",{ref:"addForm",staticClass:"addForm",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"项目",prop:"projectId"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择项目",disabled:!0},model:{value:e.form.projectId,callback:function(t){e.$set(e.form,"projectId",t)},expression:"form.projectId"}},e._l(e.projectList,function(e){return r("el-option",{key:e.projectId,attrs:{label:e.projectName,value:e.projectId}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"实体名",prop:"title"}},[r("el-input",{attrs:{placeholder:"例如：用户"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"类名",prop:"className"}},[r("el-input",{attrs:{placeholder:"例如：User"},model:{value:e.form.className,callback:function(t){e.$set(e.form,"className",t)},expression:"form.className"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"表名",prop:"tableName"}},[r("el-input",{attrs:{placeholder:"例如：t_user"},model:{value:e.form.tableName,callback:function(t){e.$set(e.form,"tableName",t)},expression:"form.tableName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"描述",prop:"desc"}},[r("el-input",{attrs:{type:"textarea",rows:2},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit()}}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:function(t){e.goBack()}}},[e._v("返回")])],1)],1)],1)],1)],1)},tt=[],rt={render:et,staticRenderFns:tt},ot=rt,lt=r("VU/8"),at=c,nt=lt(Xe,ot,!1,at,null,null),it=nt.exports,st=r("//Fk"),ct=r.n(st),ut={entityId:null,projectId:null,title:"",className:"",tableName:"",desc:"",commonCall:!0},mt={name:"entityEdit",props:["projectId","entityId"],data:function(){return{projectList:[],old:be()({},ut),form:be()({},ut),rules:{projectId:[{required:!0,type:"number",message:"请选择项目",trigger:"change"}],title:[{required:!0,message:"请输入实体名",trigger:"blur"},{max:25,message:"长度不能超过25个字符",trigger:"blur"}],className:[{required:!0,message:"请输入类名",trigger:"blur"},{max:50,message:"长度不能超过50个字符",trigger:"blur"}],tableName:[{required:!0,message:"请输入表名",trigger:"blur"},{max:50,message:"长度不能超过50个字符",trigger:"blur"}],desc:[{max:250,message:"长度不能超过250个字符",trigger:"blur"}]}}},methods:{queryProject:function(){var e=this;return this.$common.getProjectOptions().then(function(t){return e.$common.checkResult(t.data)}).then(function(t){return e.projectList=t.data})},getEntity:function(){var e=this;return this.$ajax.get("/generate/meta_entity/"+this.entityId).then(function(t){return e.$common.checkResult(t.data)}).then(function(t){return e.old=t.data}).catch(function(t){return e.$common.showNotifyError(t)})},reset:function(){for(var e in ut)this.form[e]=this.old[e]},submit:function(){var e=this;this.$refs.editForm.validate().then(function(){return e.$ajax.put("/generate/meta_entity/update",e.form)}).then(function(t){return e.$common.checkResult(t.data)}).then(function(){e.$common.showMsg("success","修改成功"),e.goBack()}).catch(function(t){return e.$common.showNotifyError(t)})},goBack:function(){this.$router.push("/project/"+this.projectId+"/entity")}},created:function(){var e=this;ct.a.all([this.getEntity(),this.queryProject()]).then(function(){return e.reset()})}},dt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"entityEdit"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/project"}}},[e._v("项目管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/project/"+this.projectId+"/entity"}}},[e._v("实体管理")]),e._v(" "),r("el-breadcrumb-item",[e._v("编辑")])],1),e._v(" "),r("el-row",{attrs:{type:"flex",align:"middle",gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form",{ref:"editForm",staticClass:"editForm",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"项目",prop:"projectId"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择项目",disabled:!0},model:{value:e.form.projectId,callback:function(t){e.$set(e.form,"projectId",t)},expression:"form.projectId"}},e._l(e.projectList,function(e){return r("el-option",{key:e.projectId,attrs:{label:e.projectName,value:e.projectId}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"实体名",prop:"title"}},[r("el-input",{attrs:{placeholder:"例如：用户"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"类名",prop:"className"}},[r("el-input",{attrs:{placeholder:"例如：User"},model:{value:e.form.className,callback:function(t){e.$set(e.form,"className",t)},expression:"form.className"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"表名",prop:"tableName"}},[r("el-input",{attrs:{placeholder:"例如：t_user"},model:{value:e.form.tableName,callback:function(t){e.$set(e.form,"tableName",t)},expression:"form.tableName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"描述",prop:"desc"}},[r("el-input",{attrs:{type:"textarea",rows:2},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit()}}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:function(t){e.goBack()}}},[e._v("返回")])],1)],1)],1)],1)],1)},pt=[],ft={render:dt,staticRenderFns:pt},ht=ft,bt=r("VU/8"),vt=u,yt=bt(mt,ht,!1,vt,null,null),gt=yt.exports,_t={entityId:null,projectId:null,title:"",className:"",tableName:"",desc:"",commonCall:!0},jt={name:"entityShow",props:["projectId","entityId"],data:function(){return{form:be()({},_t)}},methods:{queryProject:function(){var e=this;return this.$common.getProjectOptions().then(function(t){return e.$common.checkResult(t.data)}).then(function(t){return e.projectList=t.data})},getEntity:function(){var e=this;return this.$ajax.get("/generate/meta_entity/"+this.entityId).then(function(t){return e.$common.checkResult(t.data)}).then(function(t){return e.form=t.data}).catch(function(t){return e.$common.showNotifyError(t)})},goBack:function(){this.$router.push("/project/"+this.projectId+"/entity")}},created:function(){var e=this;this.queryProject().then(function(){return e.getEntity()})}},kt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"entityShow"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/project"}}},[e._v("项目管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/project/"+this.projectId+"/entity"}}},[e._v("实体管理")]),e._v(" "),r("el-breadcrumb-item",[e._v("查看")])],1),e._v(" "),r("el-row",{attrs:{type:"flex",align:"middle",gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form",{ref:"showForm",staticClass:"showForm",attrs:{model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"项目",prop:"projectId"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",disabled:!0},model:{value:e.form.projectId,callback:function(t){e.$set(e.form,"projectId",t)},expression:"form.projectId"}},e._l(e.projectList,function(e){return r("el-option",{key:e.projectId,attrs:{label:e.projectName,value:e.projectId}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"实体名",prop:"title"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"类名",prop:"className"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.form.className,callback:function(t){e.$set(e.form,"className",t)},expression:"form.className"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"表名",prop:"tableName"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.form.tableName,callback:function(t){e.$set(e.form,"tableName",t)},expression:"form.tableName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"描述",prop:"desc"}},[r("el-input",{attrs:{type:"textarea",rows:2,disabled:!0},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),e._v(" "),r("el-form-item",[r("el-button",{on:{click:function(t){e.goBack()}}},[e._v("返回")])],1)],1)],1)],1)],1)},It=[],xt={render:kt,staticRenderFns:It},$t=xt,wt=r("VU/8"),Nt=m,qt=wt(jt,$t,!1,Nt,null,null),Tt=qt.exports,Ft=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[r("keep-alive",{attrs:{include:"fieldList"}},[r("router-view")],1)],1)],1)},St=[],Ct={render:Ft,staticRenderFns:St},Dt=Ct,Et=r("VU/8"),Ot=Et(null,Dt,!1,null,null,null),Rt=Ot.exports,Lt=r("BO1k"),Vt=r.n(Lt),Bt={boolOptions:[{value:1,label:"是"},{value:0,label:"否"}],fieldTypeOptions:[{value:"int",label:"INT"},{value:"varchar",label:"VARCHAR"},{value:"text",label:"TEXT"},{value:"datetime",label:"DATETIME"},{value:"decimal",label:"DECIMAL"},{value:"bigint",label:"BIGINT"},{value:"smallint",label:"SMALLINT"}],jfieldTypeOptions:[{value:"Integer",label:"Integer"},{value:"Short",label:"Short"},{value:"Long",label:"Long"},{value:"String",label:"String"},{value:"Date",label:"Date"},{value:"Double",label:"Double"},{value:"Float",label:"Float"},{value:"BigDecimal",label:"BigDecimal"}],queryTypeOptions:[{value:1,label:"等于"},{value:2,label:"like"},{value:3,label:"大于"},{value:4,label:"大于等于"},{value:5,label:"小于"},{value:6,label:"小于等于"},{value:7,label:"between"}],specialFieldOptions:[{value:"delSign",label:"逻辑删除"},{value:"createDate",label:"创建时间"},{value:"createBy",label:"创建人员"},{value:"operateDate",label:"更新时间"},{value:"operateBy",label:"更新人员"},{value:"version",label:"乐观锁版本"}],constTypeOptions:[{value:1,label:"整型"},{value:2,label:"字符串"}]},Pt={"主键ID(Long)":{jfieldName:"id",fieldName:"id",fieldDesc:"主键",jfieldType:"Long",fieldType:"bigint",fieldLength:20,fieldScale:0,primaryKey:1,autoIncrement:1,defaultValue:"",notNull:1,specialField:"",fieldExample:"1",fieldComment:"主键ID",dicType:"",query:0,queryType:null,insert:0,update:0,list:0,show:0,editType:null,orderNo:1},"主键ID(Integer)":{jfieldName:"id",fieldName:"id",fieldDesc:"主键",jfieldType:"Integer",fieldType:"int",fieldLength:10,fieldScale:0,primaryKey:1,autoIncrement:1,defaultValue:"",notNull:1,specialField:"",fieldExample:"1",fieldComment:"主键ID",dicType:"",query:0,queryType:null,insert:0,update:0,list:0,show:0,editType:null,orderNo:1},"创建时间":{jfieldName:"createDate",fieldName:"create_date",fieldDesc:"创建时间",jfieldType:"Date",fieldType:"datetime",fieldLength:0,fieldScale:0,primaryKey:0,autoIncrement:0,defaultValue:"",notNull:1,specialField:"createDate",fieldExample:"2017-12-07 00:00:00",fieldComment:"创建时间【yyyy-MM-dd HH:mm:ss】",dicType:"",query:0,queryType:null,insert:0,update:0,list:0,show:0,editType:null,orderNo:100},"创建人":{jfieldName:"createBy",fieldName:"create_by",fieldDesc:"创建人",jfieldType:"String",fieldType:"varchar",fieldLength:20,fieldScale:0,primaryKey:0,autoIncrement:0,defaultValue:"",notNull:1,specialField:"createBy",fieldExample:"admin",fieldComment:"创建人【最大长度20】",dicType:"",query:0,queryType:null,insert:0,update:0,list:0,show:0,editType:null,orderNo:101},"修改时间":{jfieldName:"operateDate",fieldName:"operate_date",fieldDesc:"修改时间",jfieldType:"Date",fieldType:"datetime",fieldLength:0,fieldScale:0,primaryKey:0,autoIncrement:0,defaultValue:"",notNull:1,specialField:"operateDate",fieldExample:"2017-12-07 00:00:00",fieldComment:"修改时间【yyyy-MM-dd HH:mm:ss】",dicType:"",query:0,queryType:null,insert:0,update:0,list:0,show:0,editType:null,orderNo:102},"修改人":{jfieldName:"operateBy",fieldName:"operate_by",fieldDesc:"修改人",jfieldType:"String",fieldType:"varchar",fieldLength:20,fieldScale:0,primaryKey:0,autoIncrement:0,defaultValue:"",notNull:1,specialField:"operateBy",fieldExample:"admin",fieldComment:"修改人【最大长度20】",dicType:"",query:0,queryType:null,insert:0,update:0,list:0,show:0,editType:null,orderNo:103},"乐观锁版本号":{jfieldName:"version",fieldName:"version",fieldDesc:"乐观锁版本号",jfieldType:"Integer",fieldType:"int",fieldLength:10,fieldScale:0,primaryKey:0,autoIncrement:0,defaultValue:"",notNull:1,specialField:"version",fieldExample:"1",fieldComment:"乐观锁版本号【整型】",dicType:"",query:0,queryType:null,insert:0,update:0,list:0,show:0,editType:null,orderNo:104},"逻辑删除标识":{jfieldName:"delSign",fieldName:"del_sign",fieldDesc:"逻辑删除标识",jfieldType:"Integer",fieldType:"smallint",fieldLength:1,fieldScale:0,primaryKey:0,autoIncrement:0,defaultValue:"",notNull:1,specialField:"delSign",fieldExample:"0",fieldComment:"逻辑删除标识【0-未删除，1-已删除】",dicType:"",query:0,queryType:null,insert:0,update:0,list:0,show:0,editType:null,orderNo:105}},zt={name:"fieldList",props:["projectId","entityId"],data:function(){return{addTemplateFormVisible:!1,fieldTemplate:Pt,cacheTemplateCount:0,cacheTemplate:[],templateForm:{template:""},query:{projectId:null,entityId:null},queryForm:{projectEntityOptions:[],projectEntity:[0,0]},activeNum:0,selectItems:[],entities:[],loading:!1}},filters:{optionLabel:function(e,t){var r=Bt[t],o=!0,l=!1,a=void 0;try{for(var n,i=Vt()(r);!(o=(n=i.next()).done);o=!0){var s=n.value;if(s.value==e)return s.label}}catch(e){l=!0,a=e}finally{try{!o&&i.return&&i.return()}finally{if(l)throw a}}return null}},methods:{selectionChange:function(e){this.selectItems=e,this.activeNum=this.selectItems.length},handleRemoveTemplate:function(e){var t=this.cacheTemplate.findIndex(function(t){return t.fieldId==e});t>-1&&(this.cacheTemplate.splice(t,1),this.cacheTemplateCount--)},handleDel:function(){var e=this;if(this.activeNum<=0)return void this.$common.showMsg("warning","请选择字段");this.$common.confirm("是否确认删除").then(function(){return e.$ajax.post("/generate/meta_field/deleteBatch",e.selectItems.map(function(e){return e.fieldId}))}).then(function(){return e.doQuery()})},handleCopy:function(){if(this.activeNum<=0)return void this.$common.showMsg("warning","请选择字段");var e=!0,t=!1,r=void 0;try{for(var o,l=Vt()(this.selectItems);!(e=(o=l.next()).done);e=!0){var a=o.value;this.cacheTemplate.find(function(e){return e.fieldId==a.fieldId})||this.cacheTemplate.push(a)}}catch(e){t=!0,r=e}finally{try{!e&&l.return&&l.return()}finally{if(t)throw r}}this.cacheTemplateCount=this.cacheTemplate.length},initProjectOptions:function(){var e=this;return this.$common.getProjectOptions().then(function(t){return e.$common.checkResult(t.data)}).then(function(t){return e.queryForm.projectEntityOptions=t.data.map(function(e){return{value:e.projectId,label:e.projectName,children:[]}})})},handleProjectChange:function(e){var t=this,r=e[0],o=this.queryForm.projectEntityOptions.find(function(e){return e.value==r});if(!o.children.length)return this.$common.getEntityOptions(r).then(function(e){return t.$common.checkResult(e.data)}).then(function(e){return o.children=e.data.entities.map(function(e){return{value:e.entityId,label:e.title}})})},handleQuery:function(){if(null==this.queryForm.projectEntity[1])return void this.$common.showNotifyError("请选择实体");this.query.projectId=this.queryForm.projectEntity[0],this.query.entityId=this.queryForm.projectEntity[1],this.query.entityId!=parseInt(this.entityId)&&this.$router.push("/project/"+this.query.projectId+"/entity/"+this.query.entityId+"/field"),this.doQuery()},doQuery:function(){var e=this;this.query.projectId&&this.query.entityId&&(this.loading=!0,this.$ajax.post("/generate/meta_field/list",this.query).then(function(t){return e.$common.checkResult(t.data)}).then(function(t){return e.entities=t.data}).catch(function(t){return e.$common.showNotifyError(t)}).finally(function(){return e.loading=!1}))},handleAdd:function(){this.addTemplateFormVisible=!1;var e="system";"number"==typeof this.templateForm.template&&(e="temp"),this.$router.push("/project/"+this.projectId+"/entity/"+this.entityId+"/field/add?type="+e+"&template="+this.templateForm.template)},handleEdit:function(e){this.$router.push("/project/"+this.projectId+"/entity/"+this.entityId+"/field/edit/"+e.fieldId)},handleShow:function(e){this.$router.push("/project/"+this.projectId+"/entity/"+this.entityId+"/field/show/"+e.fieldId)}},activated:function(){var e=this,t=parseInt(this.projectId),r=parseInt(this.entityId);this.queryForm.projectEntity[0]=t,this.queryForm.projectEntity[1]=r,this.query.projectId=t,this.query.entityId=r,this.initProjectOptions().then(function(){return e.handleProjectChange([t])}).then(function(){return e.doQuery()})}},Ut=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"fieldList"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/project"}}},[e._v("项目管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/project/"+this.projectId+"/entity"}}},[e._v("实体管理")]),e._v(" "),r("el-breadcrumb-item",[e._v("字段管理")])],1),e._v(" "),r("el-row",{staticStyle:{padding:"10px 0"},attrs:{type:"flex",align:"middle",gutter:20}},[r("el-col",{staticClass:"activeNum",attrs:{span:4}},[e._v("\n      已选择"+e._s(e.activeNum)+"个字段\n    ")]),e._v(" "),r("el-col",{staticStyle:{"text-align":"right"},attrs:{span:20}},[r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.queryForm}},[r("el-form-item",[r("el-cascader",{attrs:{placeholder:"请选择实体",options:e.queryForm.projectEntityOptions},on:{"active-item-change":e.handleProjectChange},model:{value:e.queryForm.projectEntity,callback:function(t){e.$set(e.queryForm,"projectEntity",t)},expression:"queryForm.projectEntity"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.handleQuery}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){e.addTemplateFormVisible=!0,e.templateForm.template=""}}},[e._v("添加")]),e._v(" "),r("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){e.handleDel(t)}}},[e._v("删除")]),e._v(" "),r("el-badge",{staticClass:"item",attrs:{value:e.cacheTemplateCount}},[r("el-button",{staticStyle:{margin:"0 0 0 10px"},attrs:{type:"warning"},nativeOn:{click:function(t){e.handleCopy(t)}}},[e._v("复制为模板")])],1)],1)],1)],1)],1),e._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.entities},on:{"selection-change":e.selectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),r("el-table-column",{attrs:{property:"fieldDesc",label:"字段描述"}}),e._v(" "),r("el-table-column",{attrs:{label:"字段名"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.jfieldName)+" / "+e._s(t.row.fieldName)+"\n      ")]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"字段类型",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e._f("optionLabel")(t.row.jfieldType,"jfieldTypeOptions"))+"\n        / "+e._s(e._f("optionLabel")(t.row.fieldType,"fieldTypeOptions"))+"\n      ")]}}])}),e._v(" "),r("el-table-column",{attrs:{property:"fieldLength",label:"字段长度",width:"80px"}}),e._v(" "),r("el-table-column",{attrs:{label:"非空",width:"50px"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.notNull?r("icon",{staticClass:"color-success",attrs:{name:"check"}}):e._e(),e._v(" "),1!=t.row.notNull?r("icon",{staticClass:"color-danger",attrs:{name:"close"}}):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"主键",width:"50px"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.primaryKey?r("icon",{staticClass:"color-warning",attrs:{name:"key"}}):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{property:"fieldExample",label:"字段示例"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){e.handleShow(t.row)}}},[e._v("查看")]),e._v(" "),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){e.handleEdit(t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),r("el-dialog",{attrs:{title:"请选择字段模板",visible:e.addTemplateFormVisible,width:"30%"},on:{"update:visible":function(t){e.addTemplateFormVisible=t}}},[r("el-form",{attrs:{model:e.templateForm}},[r("el-form-item",{attrs:{label:"请选择：","label-width":"100px"}},[r("el-select",{model:{value:e.templateForm.template,callback:function(t){e.$set(e.templateForm,"template",t)},expression:"templateForm.template"}},[r("el-option-group",[r("el-option",{attrs:{label:"不使用模板",value:""}})],1),e._v(" "),e.cacheTemplateCount>0?r("el-option-group",{attrs:{label:"临时模板"}},e._l(e.cacheTemplate,function(t){return r("el-option",{key:t.fieldId,attrs:{label:t.fieldDesc,value:t.fieldId}},[r("span",{staticStyle:{float:"left"}},[e._v(e._s(t.fieldDesc))]),e._v(" "),r("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[r("i",{staticClass:"el-icon-delete",on:{click:function(r){r.stopPropagation(),e.handleRemoveTemplate(t.fieldId)}}})])])})):e._e(),e._v(" "),r("el-option-group",{attrs:{label:"系统内置模板"}},e._l(e.fieldTemplate,function(e,t){return r("el-option",{key:t,attrs:{label:t,value:t}})}))],1)],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.addTemplateFormVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("确 定")])],1)],1)],1)},At=[],Mt={render:Ut,staticRenderFns:At},Qt=Mt,Kt=r("VU/8"),Ht=d,Gt=Kt(zt,Qt,!1,Ht,null,null),Wt=Gt.exports,Jt={name:"fieldAdd",props:["projectId","entityId"],data:function(){return{boolOptions:Bt.boolOptions,fieldTypeOptions:Bt.fieldTypeOptions,jfieldTypeOptions:Bt.jfieldTypeOptions,queryTypeOptions:Bt.queryTypeOptions,specialFieldOptions:Bt.specialFieldOptions,constList:null,notNullDisabled:!1,autoIncrementDisabled:!0,queryTypeDisabled:!0,specialFieldDisabled:!1,form:{entityId:null,jfieldName:"",fieldName:"",fieldDesc:"",jfieldType:"",fieldType:"",fieldLength:0,fieldScale:0,primaryKey:0,autoIncrement:0,defaultValue:"",notNull:0,specialField:"",fieldExample:"",fieldComment:"",dicType:"",query:0,queryType:null,insert:1,update:1,list:1,show:1,editType:null,orderNo:1},rules:{jfieldName:[{required:!0,message:"请输入java字段名",trigger:"blur"},{max:20,message:"长度不能超过20个字符",trigger:"blur"}],fieldName:[{required:!0,message:"请输入mysql字段名",trigger:"blur"},{max:20,message:"长度不能超过20个字符",trigger:"blur"}],fieldDesc:[{required:!0,message:"请输入字段描述",trigger:"blur"},{max:40,message:"长度不能超过40个字符",trigger:"blur"}],jfieldType:[{required:!0,type:"string",message:"请选择java字段类型",trigger:"change"}],fieldType:[{required:!0,type:"string",message:"请选择mysql字段类型",trigger:"change"}],fieldLength:[{required:!0,message:"请输入字段长度",trigger:"blur"}],fieldScale:[{required:!0,message:"请输入字段精度",trigger:"blur"}],primaryKey:[{required:!0,type:"number",message:"请选择是否主键",trigger:"change"}],autoIncrement:[{required:!0,type:"number",message:"请选择是否自增",trigger:"change"}],notNull:[{required:!0,type:"number",message:"请选择不能为空",trigger:"change"}],fieldExample:[{required:!0,message:"请输入字段示例",trigger:"blur"},{max:100,message:"长度不能超过100个字符",trigger:"blur"}],fieldComment:[{required:!0,message:"请输入字段备注",trigger:"blur"},{max:100,message:"长度不能超过100个字符",trigger:"blur"}],dicType:[{max:40,message:"长度不能超过40个字符",trigger:"blur"}],query:[{required:!0,type:"number",message:"请选择是否查询字段",trigger:"change"}],insert:[{required:!0,type:"number",message:"请选择是否新增字段",trigger:"change"}],update:[{required:!0,type:"number",message:"请选择是否编辑字段",trigger:"change"}],list:[{required:!0,type:"number",message:"请选择是否列表字段",trigger:"change"}],show:[{required:!0,type:"number",message:"请选择是否详情字段",trigger:"change"}],orderNo:[{required:!0,message:"请输入排序号",trigger:"blur"}]}}},computed:{dicTypeDisabled:function(){return!(1!=this.form.primaryKey&&!this.form.specialField)}},watch:{"form.primaryKey":function(e){1==e?(this.form.notNull=1,this.notNullDisabled=!0,this.form.specialField="",this.specialFieldDisabled=!0,this.autoIncrementDisabled=!1):(this.notNullDisabled=!1,this.specialFieldDisabled=!1,this.form.autoIncrement=0,this.autoIncrementDisabled=!0)},"form.query":function(e){1==e?this.queryTypeDisabled=!1:(this.queryTypeDisabled=!0,this.queryType="")},dicTypeDisabled:function(e){e&&(this.form.dicType="")}},methods:{queryDicType:function(e,t){var r=this,o=function(){var r=e?this.constList.filter(function(t){return 0===t.constName.toLowerCase().indexOf(e.toLowerCase())}):this.constList;t(r.map(function(e){return{value:e.constName}}))}.bind(this);this.constList?o():this.$common.getConstOptions(this.projectId).then(function(e){return r.$common.checkResult(e.data)}).then(function(e){r.constList=e.data.entities,o()})},submit:function(){var e=this;"decimal"!=this.form.fieldType&&(this.form.fieldScale=null),this.$refs.addForm.validate().then(function(){return e.$ajax.post("/generate/meta_field/save",e.$common.removeBlankField(e.form))}).then(function(t){return e.$common.checkResult(t.data)}).then(function(){e.$common.showMsg("success","添加成功"),e.goBack()}).catch(function(t){return e.$common.showNotifyError(t)})},goBack:function(){this.$router.push("/project/"+this.projectId+"/entity/"+this.entityId+"/field")}},created:function(){var e=this,t=parseInt(this.entityId);this.form.entityId=t;var r=this.$router.currentRoute.query.type,o=this.$router.currentRoute.query.template;o&&("system"==r&&(this.form=Pt[o],this.form.entityId=t),"temp"==r&&this.$ajax.get("/generate/meta_field/"+o).then(function(t){return e.$common.checkResult(t.data)}).then(function(r){e.form=r.data,e.form.entityId=t}).catch(function(t){return e.$common.showNotifyError(t)}))}},Yt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"fieldAdd"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/project"}}},[e._v("项目管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/project/"+this.projectId+"/entity"}}},[e._v("实体管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/project/"+this.projectId+"/entity/"+this.entityId+"/field"}}},[e._v("字段管理\n    ")]),e._v(" "),r("el-breadcrumb-item",[e._v("添加")])],1),e._v(" "),r("el-row",{attrs:{type:"flex",align:"middle",gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form",{ref:"addForm",staticClass:"addForm",attrs:{rules:e.rules,model:e.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"java字段名",prop:"jfieldName"}},[r("el-input",{attrs:{placeholder:"java字段名，例如：age"},model:{value:e.form.jfieldName,callback:function(t){e.$set(e.form,"jfieldName",t)},expression:"form.jfieldName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"mysql字段名",prop:"fieldName"}},[r("el-input",{attrs:{placeholder:"mysql字段名，例如：age"},model:{value:e.form.fieldName,callback:function(t){e.$set(e.form,"fieldName",t)},expression:"form.fieldName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"字段描述",prop:"fieldDesc"}},[r("el-input",{attrs:{placeholder:"字段描述，例如：年龄"},model:{value:e.form.fieldDesc,callback:function(t){e.$set(e.form,"fieldDesc",t)},expression:"form.fieldDesc"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"java字段类型",prop:"jfieldType"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.jfieldType,callback:function(t){e.$set(e.form,"jfieldType",t)},expression:"form.jfieldType"}},e._l(e.jfieldTypeOptions,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"mysql字段类型",prop:"fieldType"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.fieldType,callback:function(t){e.$set(e.form,"fieldType",t)},expression:"form.fieldType"}},e._l(e.fieldTypeOptions,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"字段长度",prop:"fieldLength"}},[r("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,placeholder:"字段长度，例如：10"},model:{value:e.form.fieldLength,callback:function(t){e.$set(e.form,"fieldLength",t)},expression:"form.fieldLength"}})],1),e._v(" "),"decimal"==e.form.fieldType?r("el-form-item",{attrs:{label:"字段精度",prop:"fieldScale"}},[r("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,placeholder:"字段精度，例如：2"},model:{value:e.form.fieldScale,callback:function(t){e.$set(e.form,"fieldScale",t)},expression:"form.fieldScale"}})],1):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"是否主键",prop:"primaryKey"}},[r("el-radio-group",{model:{value:e.form.primaryKey,callback:function(t){e.$set(e.form,"primaryKey",t)},expression:"form.primaryKey"}},e._l(e.boolOptions,function(t){return r("el-radio",{key:t.value,attrs:{border:"",label:t.value}},[e._v(e._s(t.label)+"\n            ")])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"是否自增",prop:"autoIncrement"}},[r("el-radio-group",{attrs:{disabled:e.autoIncrementDisabled},model:{value:e.form.autoIncrement,callback:function(t){e.$set(e.form,"autoIncrement",t)},expression:"form.autoIncrement"}},e._l(e.boolOptions,function(t){return r("el-radio",{key:t.value,attrs:{border:"",label:t.value}},[e._v(e._s(t.label)+"\n            ")])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"不能为空",prop:"notNull"}},[r("el-radio-group",{attrs:{disabled:e.notNullDisabled},model:{value:e.form.notNull,callback:function(t){e.$set(e.form,"notNull",t)},expression:"form.notNull"}},e._l(e.boolOptions,function(t){return r("el-radio",{key:t.value,attrs:{border:"",label:t.value}},[e._v(e._s(t.label)+"\n            ")])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"特殊字段类型",prop:"specialField"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{disabled:e.specialFieldDisabled,clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.form.specialField,callback:function(t){e.$set(e.form,"specialField",t)},expression:"form.specialField"}},e._l(e.specialFieldOptions,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"字段示例",prop:"fieldExample"}},[r("el-input",{attrs:{placeholder:"字段示例，例如年龄字段：21"},model:{value:e.form.fieldExample,callback:function(t){e.$set(e.form,"fieldExample",t)},expression:"form.fieldExample"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"字段备注",prop:"fieldComment"}},[r("el-input",{attrs:{type:"textarea",rows:2,placeholder:"字段备注，例如：年龄【整型】"},model:{value:e.form.fieldComment,callback:function(t){e.$set(e.form,"fieldComment",t)},expression:"form.fieldComment"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"枚举字典",prop:"dicType"}},[r("el-autocomplete",{staticStyle:{width:"100%"},attrs:{disabled:e.dicTypeDisabled,"fetch-suggestions":e.queryDicType,placeholder:"请输入枚举字典"},model:{value:e.form.dicType,callback:function(t){e.$set(e.form,"dicType",t)},expression:"form.dicType"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否查询字段",prop:"query"}},[r("el-radio-group",{model:{value:e.form.query,callback:function(t){e.$set(e.form,"query",t)},expression:"form.query"}},e._l(e.boolOptions,function(t){return r("el-radio",{key:t.value,attrs:{border:"",label:t.value}},[e._v(e._s(t.label)+"\n            ")])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"查询方式",prop:"queryType"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{disabled:e.queryTypeDisabled,clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.form.queryType,callback:function(t){e.$set(e.form,"queryType",t)},expression:"form.queryType"}},e._l(e.queryTypeOptions,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"是否新增字段",prop:"insert"}},[r("el-radio-group",{model:{value:e.form.insert,callback:function(t){e.$set(e.form,"insert",t)},expression:"form.insert"}},e._l(e.boolOptions,function(t){return r("el-radio",{key:t.value,attrs:{border:"",label:t.value}},[e._v(e._s(t.label)+"\n            ")])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"是否编辑字段",prop:"update"}},[r("el-radio-group",{model:{value:e.form.update,callback:function(t){e.$set(e.form,"update",t)},expression:"form.update"}},e._l(e.boolOptions,function(t){return r("el-radio",{key:t.value,attrs:{border:"",label:t.value}},[e._v(e._s(t.label)+"\n            ")])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"是否列表字段",prop:"list"}},[r("el-radio-group",{model:{value:e.form.list,callback:function(t){e.$set(e.form,"list",t)},expression:"form.list"}},e._l(e.boolOptions,function(t){return r("el-radio",{key:t.value,attrs:{border:"",label:t.value}},[e._v(e._s(t.label)+"\n            ")])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"是否详情字段",prop:"show"}},[r("el-radio-group",{model:{value:e.form.show,callback:function(t){e.$set(e.form,"show",t)},expression:"form.show"}},e._l(e.boolOptions,function(t){return r("el-radio",{key:t.value,attrs:{border:"",label:t.value}},[e._v(e._s(t.label)+"\n            ")])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"排序号",prop:"orderNo"}},[r("el-input-number",{staticStyle:{width:"100%"},attrs:{min:1},model:{value:e.form.orderNo,callback:function(t){e.$set(e.form,"orderNo",t)},expression:"form.orderNo"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit()}}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:function(t){e.goBack()}}},[e._v("返回")])],1)],1)],1)],1)],1)},Zt=[],Xt={render:Yt,staticRenderFns:Zt},er=Xt,tr=r("VU/8"),rr=p,or=tr(Jt,er,!1,rr,null,null),lr=or.exports,ar={fieldId:null,entityId:null,jfieldName:"",fieldName:"",fieldDesc:"",jfieldType:"",fieldType:"",fieldLength:0,fieldScale:0,primaryKey:0,autoIncrement:0,defaultValue:"",notNull:0,specialField:"",fieldExample:"",fieldComment:"",dicType:"",query:0,queryType:null,insert:1,update:1,list:1,show:1,editType:null,orderNo:1},nr={name:"fieldEdit",props:["projectId","entityId","fieldId"],data:function(){return{boolOptions:Bt.boolOptions,fieldTypeOptions:Bt.fieldTypeOptions,jfieldTypeOptions:Bt.jfieldTypeOptions,queryTypeOptions:Bt.queryTypeOptions,specialFieldOptions:Bt.specialFieldOptions,constList:null,notNullDisabled:!1,autoIncrementDisabled:!0,queryTypeDisabled:!0,specialFieldDisabled:!1,old:be()({},ar),form:be()({},ar),rules:{jfieldName:[{required:!0,message:"请输入java字段名",trigger:"blur"},{max:20,message:"长度不能超过20个字符",trigger:"blur"}],fieldName:[{required:!0,message:"请输入mysql字段名",trigger:"blur"},{max:20,message:"长度不能超过20个字符",trigger:"blur"}],fieldDesc:[{required:!0,message:"请输入字段描述",trigger:"blur"},{max:40,message:"长度不能超过40个字符",trigger:"blur"}],jfieldType:[{required:!0,type:"string",message:"请选择java字段类型",trigger:"change"}],fieldType:[{required:!0,type:"string",message:"请选择mysql字段类型",trigger:"change"}],fieldLength:[{required:!0,message:"请输入字段长度",trigger:"blur"}],fieldScale:[{required:!0,message:"请输入字段精度",trigger:"blur"}],primaryKey:[{required:!0,type:"number",message:"请选择是否主键",trigger:"change"}],autoIncrement:[{required:!0,type:"number",message:"请选择是否自增",trigger:"change"}],notNull:[{required:!0,type:"number",message:"请选择不能为空",trigger:"change"}],fieldExample:[{required:!0,message:"请输入字段示例",trigger:"blur"},{max:100,message:"长度不能超过100个字符",trigger:"blur"}],fieldComment:[{required:!0,message:"请输入字段备注",trigger:"blur"},{max:100,message:"长度不能超过100个字符",trigger:"blur"}],dicType:[{max:40,message:"长度不能超过40个字符",trigger:"blur"}],query:[{required:!0,type:"number",message:"请选择是否查询字段",trigger:"change"}],insert:[{required:!0,type:"number",message:"请选择是否新增字段",trigger:"change"}],update:[{required:!0,type:"number",message:"请选择是否编辑字段",trigger:"change"}],list:[{required:!0,type:"number",message:"请选择是否列表字段",trigger:"change"}],show:[{required:!0,type:"number",message:"请选择是否详情字段",trigger:"change"}],orderNo:[{required:!0,message:"请输入排序号",trigger:"blur"}]}}},computed:{dicTypeDisabled:function(){return!(1!=this.form.primaryKey&&!this.form.specialField)}},watch:{"form.primaryKey":function(e){1==e?(this.form.notNull=1,this.notNullDisabled=!0,this.form.specialField="",this.specialFieldDisabled=!0,this.autoIncrementDisabled=!1):(this.notNullDisabled=!1,this.specialFieldDisabled=!1,this.form.autoIncrement=0,this.autoIncrementDisabled=!0)},"form.query":function(e){1==e?this.queryTypeDisabled=!1:(this.queryTypeDisabled=!0,this.queryType="")},dicTypeDisabled:function(e){e&&(this.form.dicType="")}},methods:{queryDicType:function(e,t){var r=this,o=function(){var r=e?this.constList.filter(function(t){return 0===t.constName.toLowerCase().indexOf(e.toLowerCase())}):this.constList;t(r.map(function(e){return{value:e.constName}}))}.bind(this);this.constList?o():this.$common.getConstOptions(this.projectId).then(function(e){return r.$common.checkResult(e.data)}).then(function(e){r.constList=e.data.entities,o()})},getField:function(){var e=this;return this.$ajax.get("/generate/meta_field/"+this.fieldId).then(function(t){return e.$common.checkResult(t.data)}).then(function(t){return e.old=t.data}).catch(function(t){return e.$common.showNotifyError(t)})},reset:function(){for(var e in ar)this.form[e]=this.old[e]},submit:function(){var e=this;"decimal"!=this.form.fieldType&&(this.form.fieldScale=null),this.$refs.editForm.validate().then(function(){return e.$ajax.put("/generate/meta_field/update",e.$common.removeBlankField(e.form))}).then(function(t){return e.$common.checkResult(t.data)}).then(function(){e.$common.showMsg("success","修改成功"),e.goBack()}).catch(function(t){return e.$common.showNotifyError(t)})},goBack:function(){this.$router.push("/project/"+this.projectId+"/entity/"+this.entityId+"/field")}},created:function(){var e=this;this.getField().then(function(){return e.reset()})}},ir=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"fieldEdit"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/project"}}},[e._v("项目管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/project/"+this.projectId+"/entity"}}},[e._v("实体管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/project/"+this.projectId+"/entity/"+this.entityId+"/field"}}},[e._v("字段管理")]),e._v(" "),r("el-breadcrumb-item",[e._v("编辑")])],1),e._v(" "),r("el-row",{attrs:{type:"flex",align:"middle",gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form",{ref:"editForm",staticClass:"editForm",attrs:{rules:e.rules,model:e.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"java字段名",prop:"jfieldName"}},[r("el-input",{attrs:{placeholder:"java字段名，例如：age"},model:{value:e.form.jfieldName,callback:function(t){e.$set(e.form,"jfieldName",t)},expression:"form.jfieldName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"mysql字段名",prop:"fieldName"}},[r("el-input",{attrs:{placeholder:"mysql字段名，例如：age"},model:{value:e.form.fieldName,callback:function(t){e.$set(e.form,"fieldName",t)},expression:"form.fieldName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"字段描述",prop:"fieldDesc"}},[r("el-input",{attrs:{placeholder:"字段描述，例如：年龄"},model:{value:e.form.fieldDesc,callback:function(t){e.$set(e.form,"fieldDesc",t)},expression:"form.fieldDesc"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"java字段类型",prop:"jfieldType"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.jfieldType,callback:function(t){e.$set(e.form,"jfieldType",t)},expression:"form.jfieldType"}},e._l(e.jfieldTypeOptions,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"mysql字段类型",prop:"fieldType"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.fieldType,callback:function(t){e.$set(e.form,"fieldType",t)},expression:"form.fieldType"}},e._l(e.fieldTypeOptions,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"字段长度",prop:"fieldLength"}},[r("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,placeholder:"字段长度，例如：10"},model:{value:e.form.fieldLength,callback:function(t){e.$set(e.form,"fieldLength",t)},expression:"form.fieldLength"}})],1),e._v(" "),"decimal"==e.form.fieldType?r("el-form-item",{attrs:{label:"字段精度",prop:"fieldScale"}},[r("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,placeholder:"字段精度，例如：2"},model:{value:e.form.fieldScale,callback:function(t){e.$set(e.form,"fieldScale",t)},expression:"form.fieldScale"}})],1):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"是否主键",prop:"primaryKey"}},[r("el-radio-group",{model:{value:e.form.primaryKey,callback:function(t){e.$set(e.form,"primaryKey",t)},expression:"form.primaryKey"}},e._l(e.boolOptions,function(t){return r("el-radio",{key:t.value,attrs:{border:"",label:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"是否自增",prop:"autoIncrement"}},[r("el-radio-group",{attrs:{disabled:e.autoIncrementDisabled},model:{value:e.form.autoIncrement,callback:function(t){e.$set(e.form,"autoIncrement",t)},expression:"form.autoIncrement"}},e._l(e.boolOptions,function(t){return r("el-radio",{key:t.value,attrs:{border:"",label:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"不能为空",prop:"notNull"}},[r("el-radio-group",{attrs:{disabled:e.notNullDisabled},model:{value:e.form.notNull,callback:function(t){e.$set(e.form,"notNull",t)},expression:"form.notNull"}},e._l(e.boolOptions,function(t){return r("el-radio",{key:t.value,attrs:{border:"",label:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"特殊字段类型",prop:"specialField"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{disabled:e.specialFieldDisabled,clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.form.specialField,callback:function(t){e.$set(e.form,"specialField",t)},expression:"form.specialField"}},e._l(e.specialFieldOptions,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"字段示例",prop:"fieldExample"}},[r("el-input",{attrs:{placeholder:"字段示例，例如年龄字段：21"},model:{value:e.form.fieldExample,callback:function(t){e.$set(e.form,"fieldExample",t)},expression:"form.fieldExample"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"字段备注",prop:"fieldComment"}},[r("el-input",{attrs:{type:"textarea",rows:2,placeholder:"字段备注，例如：年龄【整型】"},model:{value:e.form.fieldComment,callback:function(t){e.$set(e.form,"fieldComment",t)},expression:"form.fieldComment"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"枚举字典",prop:"dicType"}},[r("el-autocomplete",{staticStyle:{width:"100%"},attrs:{disabled:e.dicTypeDisabled,"fetch-suggestions":e.queryDicType,placeholder:"请输入枚举字典"},model:{value:e.form.dicType,callback:function(t){e.$set(e.form,"dicType",t)},expression:"form.dicType"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否查询字段",prop:"query"}},[r("el-radio-group",{model:{value:e.form.query,callback:function(t){e.$set(e.form,"query",t)},expression:"form.query"}},e._l(e.boolOptions,function(t){return r("el-radio",{key:t.value,attrs:{border:"",label:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"查询方式",prop:"queryType"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{disabled:e.queryTypeDisabled,clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.form.queryType,callback:function(t){e.$set(e.form,"queryType",t)},expression:"form.queryType"}},e._l(e.queryTypeOptions,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"是否新增字段",prop:"insert"}},[r("el-radio-group",{model:{value:e.form.insert,callback:function(t){e.$set(e.form,"insert",t)},expression:"form.insert"}},e._l(e.boolOptions,function(t){return r("el-radio",{key:t.value,attrs:{border:"",label:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"是否编辑字段",prop:"update"}},[r("el-radio-group",{model:{value:e.form.update,callback:function(t){e.$set(e.form,"update",t)},expression:"form.update"}},e._l(e.boolOptions,function(t){return r("el-radio",{key:t.value,attrs:{border:"",label:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"是否列表字段",prop:"list"}},[r("el-radio-group",{model:{value:e.form.list,callback:function(t){e.$set(e.form,"list",t)},expression:"form.list"}},e._l(e.boolOptions,function(t){return r("el-radio",{key:t.value,attrs:{border:"",label:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"是否详情字段",prop:"show"}},[r("el-radio-group",{model:{value:e.form.show,callback:function(t){e.$set(e.form,"show",t)},expression:"form.show"}},e._l(e.boolOptions,function(t){return r("el-radio",{key:t.value,attrs:{border:"",label:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"排序号",prop:"orderNo"}},[r("el-input-number",{staticStyle:{width:"100%"},attrs:{min:1},model:{value:e.form.orderNo,callback:function(t){e.$set(e.form,"orderNo",t)},expression:"form.orderNo"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit()}}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:function(t){e.goBack()}}},[e._v("返回")])],1)],1)],1)],1)],1)},sr=[],cr={render:ir,staticRenderFns:sr},ur=cr,mr=r("VU/8"),dr=f,pr=mr(nr,ur,!1,dr,null,null),fr=pr.exports,hr={fieldId:null,entityId:null,jfieldName:"",fieldName:"",fieldDesc:"",jfieldType:"",fieldType:"",fieldLength:0,fieldScale:0,primaryKey:0,autoIncrement:0,defaultValue:"",notNull:0,specialField:"",fieldExample:"",fieldComment:"",dicType:"",query:0,queryType:null,insert:1,update:1,list:1,show:1,editType:null,orderNo:1},br={name:"fieldShow",props:["projectId","entityId","fieldId"],data:function(){return{boolOptions:Bt.boolOptions,fieldTypeOptions:Bt.fieldTypeOptions,jfieldTypeOptions:Bt.jfieldTypeOptions,queryTypeOptions:Bt.queryTypeOptions,specialFieldOptions:Bt.specialFieldOptions,form:be()({},hr)}},methods:{getField:function(){var e=this;return this.$ajax.get("/generate/meta_field/"+this.fieldId).then(function(t){return e.$common.checkResult(t.data)}).then(function(t){return e.form=t.data}).catch(function(t){return e.$common.showNotifyError(t)})},goBack:function(){this.$router.push("/project/"+this.projectId+"/entity/"+this.entityId+"/field")}},created:function(){this.getField()}},vr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"fieldShow"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/project"}}},[e._v("项目管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/project/"+this.projectId+"/entity"}}},[e._v("实体管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/project/"+this.projectId+"/entity/"+this.entityId+"/field"}}},[e._v("字段管理")]),e._v(" "),r("el-breadcrumb-item",[e._v("查看")])],1),e._v(" "),r("el-row",{attrs:{type:"flex",align:"middle",gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form",{ref:"showForm",staticClass:"showForm",attrs:{model:e.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"java字段名",prop:"jfieldName"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.form.jfieldName,callback:function(t){e.$set(e.form,"jfieldName",t)},expression:"form.jfieldName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"mysql字段名",prop:"fieldName"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.form.fieldName,callback:function(t){e.$set(e.form,"fieldName",t)},expression:"form.fieldName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"字段描述",prop:"fieldDesc"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.form.fieldDesc,callback:function(t){e.$set(e.form,"fieldDesc",t)},expression:"form.fieldDesc"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"java字段类型",prop:"jfieldType"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!0,filterable:""},model:{value:e.form.jfieldType,callback:function(t){e.$set(e.form,"jfieldType",t)},expression:"form.jfieldType"}},e._l(e.jfieldTypeOptions,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"mysql字段类型",prop:"fieldType"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!0,filterable:""},model:{value:e.form.fieldType,callback:function(t){e.$set(e.form,"fieldType",t)},expression:"form.fieldType"}},e._l(e.fieldTypeOptions,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"字段长度",prop:"fieldLength"}},[r("el-input-number",{staticStyle:{width:"100%"},attrs:{disabled:!0,min:0},model:{value:e.form.fieldLength,callback:function(t){e.$set(e.form,"fieldLength",t)},expression:"form.fieldLength"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"字段精度",prop:"fieldScale"}},[r("el-input-number",{staticStyle:{width:"100%"},attrs:{disabled:!0,min:0},model:{value:e.form.fieldScale,callback:function(t){e.$set(e.form,"fieldScale",t)},expression:"form.fieldScale"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否主键",prop:"primaryKey"}},[r("el-radio-group",{attrs:{disabled:!0},model:{value:e.form.primaryKey,callback:function(t){e.$set(e.form,"primaryKey",t)},expression:"form.primaryKey"}},e._l(e.boolOptions,function(t){return r("el-radio",{key:t.value,attrs:{border:"",label:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"是否自增",prop:"autoIncrement"}},[r("el-radio-group",{attrs:{disabled:!0},model:{value:e.form.autoIncrement,callback:function(t){e.$set(e.form,"autoIncrement",t)},expression:"form.autoIncrement"}},e._l(e.boolOptions,function(t){return r("el-radio",{key:t.value,attrs:{border:"",label:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"不能为空",prop:"notNull"}},[r("el-radio-group",{attrs:{disabled:!0},model:{value:e.form.notNull,callback:function(t){e.$set(e.form,"notNull",t)},expression:"form.notNull"}},e._l(e.boolOptions,function(t){return r("el-radio",{key:t.value,attrs:{border:"",label:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"特殊字段类型",prop:"specialField"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!0,filterable:""},model:{value:e.form.specialField,callback:function(t){e.$set(e.form,"specialField",t)},expression:"form.specialField"}},e._l(e.specialFieldOptions,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"字段示例",prop:"fieldExample"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.form.fieldExample,callback:function(t){e.$set(e.form,"fieldExample",t)},expression:"form.fieldExample"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"字段备注",prop:"fieldComment"}},[r("el-input",{attrs:{disabled:!0,type:"textarea",rows:2},model:{value:e.form.fieldComment,callback:function(t){e.$set(e.form,"fieldComment",t)},expression:"form.fieldComment"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"枚举字典",prop:"dicType"}},[r("el-input",{staticStyle:{width:"100%"},attrs:{disabled:!0},model:{value:e.form.dicType,callback:function(t){e.$set(e.form,"dicType",t)},expression:"form.dicType"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否查询字段",prop:"query"}},[r("el-radio-group",{attrs:{disabled:!0},model:{value:e.form.query,callback:function(t){e.$set(e.form,"query",t)},expression:"form.query"}},e._l(e.boolOptions,function(t){return r("el-radio",{key:t.value,attrs:{border:"",label:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"查询方式",prop:"queryType"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!0,filterable:""},model:{value:e.form.queryType,callback:function(t){e.$set(e.form,"queryType",t)},expression:"form.queryType"}},e._l(e.queryTypeOptions,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"是否新增字段",prop:"insert"}},[r("el-radio-group",{attrs:{disabled:!0},model:{value:e.form.insert,callback:function(t){e.$set(e.form,"insert",t)},expression:"form.insert"}},e._l(e.boolOptions,function(t){return r("el-radio",{key:t.value,attrs:{border:"",label:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"是否编辑字段",prop:"update"}},[r("el-radio-group",{attrs:{disabled:!0},model:{value:e.form.update,callback:function(t){e.$set(e.form,"update",t)},expression:"form.update"}},e._l(e.boolOptions,function(t){return r("el-radio",{key:t.value,attrs:{border:"",label:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"是否列表字段",prop:"list"}},[r("el-radio-group",{attrs:{disabled:!0},model:{value:e.form.list,callback:function(t){e.$set(e.form,"list",t)},expression:"form.list"}},e._l(e.boolOptions,function(t){return r("el-radio",{key:t.value,attrs:{border:"",label:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"是否详情字段",prop:"show"}},[r("el-radio-group",{attrs:{disabled:!0},model:{value:e.form.show,callback:function(t){e.$set(e.form,"show",t)},expression:"form.show"}},e._l(e.boolOptions,function(t){return r("el-radio",{key:t.value,attrs:{border:"",label:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),r("el-form-item",{attrs:{label:"排序号",prop:"orderNo"}},[r("el-input-number",{staticStyle:{width:"100%"},attrs:{disabled:!0,min:1},model:{value:e.form.orderNo,callback:function(t){e.$set(e.form,"orderNo",t)},expression:"form.orderNo"}})],1),e._v(" "),r("el-form-item",[r("el-button",{on:{click:function(t){e.goBack()}}},[e._v("返回")])],1)],1)],1)],1)],1)},yr=[],gr={render:vr,staticRenderFns:yr},_r=gr,jr=r("VU/8"),kr=h,Ir=jr(br,_r,!1,kr,null,null),xr=Ir.exports,$r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[r("keep-alive",{attrs:{include:"constList"}},[r("router-view")],1)],1)],1)},wr=[],Nr={render:$r,staticRenderFns:wr},qr=Nr,Tr=r("VU/8"),Fr=Tr(null,qr,!1,null,null,null),Sr=Fr.exports,Cr={name:"constList",props:["projectId"],data:function(){return{query:{projectId:null},queryForm:{projectId:null},projectList:[],activeNum:0,selectItems:[],page:{pageNo:1,entityCount:0,pageSize:2,entities:[]},loading:!1}},filters:{optionLabel:function(e,t){var r=Bt[t],o=!0,l=!1,a=void 0;try{for(var n,i=Vt()(r);!(o=(n=i.next()).done);o=!0){var s=n.value;if(s.value==e)return s.label}}catch(e){l=!0,a=e}finally{try{!o&&i.return&&i.return()}finally{if(l)throw a}}return null}},methods:{selectionChange:function(e){this.selectItems=e,this.activeNum=this.selectItems.length},handleDel:function(){var e=this;if(this.activeNum<=0)return void this.$common.showMsg("warning","请选择枚举");this.$common.confirm("是否确认删除").then(function(){return e.$ajax.post("/generate/meta_const/deleteBatch",e.selectItems.map(function(e){return e.constId}))}).then(function(){return e.doQuery()})},sizeChange:function(e){this.page.pageSize=e,this.doQuery()},currentChange:function(e){this.page.pageNo=e,this.doQuery()},queryProject:function(){var e=this;return this.$common.getProjectOptions().then(function(t){return e.$common.checkResult(t.data)}).then(function(t){return e.projectList=t.data})},handleQuery:function(){this.query=be()({},this.queryForm),this.query.projectId!=parseInt(this.projectId)&&this.$router.push("/project/"+this.query.projectId+"/const"),this.doQuery()},doQuery:function(){var e=this;if(this.query.projectId){var t=be()({},this.query,{pageNo:this.page.pageNo,pageSize:this.page.pageSize});this.loading=!0,this.$ajax.post("/generate/meta_const/list",t).then(function(t){return e.$common.checkResult(t.data)}).then(function(t){return e.page=t.data}).catch(function(t){return e.$common.showNotifyError(t)}).finally(function(){return e.loading=!1})}},handleAdd:function(){this.$router.push("/project/"+this.projectId+"/const/add")},handleConstDetail:function(e){this.$router.push("/project/"+this.projectId+"/const/"+e.constId+"/constDetail")},handleEdit:function(e){this.$router.push("/project/"+this.projectId+"/const/edit/"+e.constId)},handleShow:function(e){this.$router.push("/project/"+this.projectId+"/const/show/"+e.constId)}},activated:function(){var e=this;this.queryProject().then(function(){e.queryForm.projectId=parseInt(e.projectId),e.query.projectId=e.queryForm.projectId}).then(function(){return e.doQuery()})}},Dr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"constList"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/project"}}},[e._v("项目管理")]),e._v(" "),r("el-breadcrumb-item",[e._v("枚举管理")])],1),e._v(" "),r("el-row",{staticStyle:{padding:"10px 0"},attrs:{type:"flex",align:"middle",gutter:20}},[r("el-col",{staticClass:"activeNum",attrs:{span:6}},[e._v("\n      已选择"+e._s(e.activeNum)+"个枚举\n    ")]),e._v(" "),r("el-col",{staticStyle:{"text-align":"right"},attrs:{span:18}},[r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.queryForm}},[r("el-form-item",{attrs:{label:"请选择项目"}},[r("el-select",{attrs:{placeholder:"请选择项目"},model:{value:e.queryForm.projectId,callback:function(t){e.$set(e.queryForm,"projectId",t)},expression:"queryForm.projectId"}},e._l(e.projectList,function(e){return r("el-option",{key:e.projectId,attrs:{label:e.projectName,value:e.projectId}})}))],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.handleQuery}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){e.handleAdd(t)}}},[e._v("添加")]),e._v(" "),r("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){e.handleDel(t)}}},[e._v("删除")])],1)],1)],1)],1),e._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.page.entities},on:{"selection-change":e.selectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),r("el-table-column",{attrs:{property:"constRemark",label:"枚举名称"}}),e._v(" "),r("el-table-column",{attrs:{property:"constName",label:"枚举类名"}}),e._v(" "),r("el-table-column",{attrs:{label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e._f("optionLabel")(t.row.constType,"constTypeOptions"))+"\n      ")]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){e.handleConstDetail(t.row)}}},[e._v("枚举值管理")]),e._v(" "),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){e.handleShow(t.row)}}},[e._v("查看")]),e._v(" "),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){e.handleEdit(t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),r("el-row",{staticStyle:{padding:"20px 0"},attrs:{type:"flex",justify:"end"}},[r("el-pagination",{attrs:{"current-page":e.page.pageNo,"page-sizes":[10,20,30,40],"page-size":e.page.pageSize,layout:"sizes, prev, pager, next",total:e.page.entityCount},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1)],1)},Er=[],Or={render:Dr,staticRenderFns:Er},Rr=Or,Lr=r("VU/8"),Vr=b,Br=Lr(Cr,Rr,!1,Vr,null,null),Pr=Br.exports,zr={name:"constAdd",props:["projectId"],data:function(){return{constTypeOptions:Bt.constTypeOptions,projectList:[],form:{projectId:null,title:"",className:"",tableName:"",desc:"",commonCall:!0},rules:{projectId:[{required:!0,type:"number",message:"请选择项目",trigger:"change"}],constRemark:[{required:!0,message:"请输入枚举名称",trigger:"blur"},{max:100,message:"长度不能超过100个字符",trigger:"blur"}],constName:[{required:!0,message:"请输入枚举类名",trigger:"blur"},{max:20,message:"长度不能超过20个字符",trigger:"blur"}],constType:[{required:!0,type:"number",message:"请选择类型",trigger:"change"}]}}},methods:{queryProject:function(){var e=this;return this.$common.getProjectOptions().then(function(t){return e.$common.checkResult(t.data)}).then(function(t){return e.projectList=t.data})},submit:function(){var e=this;this.$refs.addForm.validate().then(function(){return e.$ajax.post("/generate/meta_const/save",e.form)}).then(function(t){return e.$common.checkResult(t.data)}).then(function(){e.$common.showMsg("success","添加成功"),e.goBack()}).catch(function(t){return e.$common.showNotifyError(t)})},goBack:function(){this.$router.push("/project/"+this.projectId+"/const")}},created:function(){var e=this;this.queryProject().then(function(){return e.form.projectId=parseInt(e.projectId)})}},Ur=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"constAdd"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/project"}}},[e._v("项目管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/project/"+this.projectId+"/const"}}},[e._v("枚举管理")]),e._v(" "),r("el-breadcrumb-item",[e._v("添加")])],1),e._v(" "),r("el-row",{attrs:{type:"flex",align:"middle",gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form",{ref:"addForm",staticClass:"addForm",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"项目",prop:"projectId"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择项目",disabled:!0},model:{value:e.form.projectId,callback:function(t){e.$set(e.form,"projectId",t)},expression:"form.projectId"}},e._l(e.projectList,function(e){return r("el-option",{key:e.projectId,attrs:{label:e.projectName,value:e.projectId}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"枚举名称",prop:"constRemark"}},[r("el-input",{attrs:{placeholder:"例如：性别"},model:{value:e.form.constRemark,callback:function(t){e.$set(e.form,"constRemark",t)},expression:"form.constRemark"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"枚举类名",prop:"constName"}},[r("el-input",{attrs:{placeholder:"例如：Sex"},model:{value:e.form.constName,callback:function(t){e.$set(e.form,"constName",t)},expression:"form.constName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"类型",prop:"constType"}},[r("el-radio-group",{model:{value:e.form.constType,callback:function(t){e.$set(e.form,"constType",t)},expression:"form.constType"}},e._l(e.constTypeOptions,function(t){return r("el-radio",{key:t.value,attrs:{border:"",label:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit()}}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:function(t){e.goBack()}}},[e._v("返回")])],1)],1)],1)],1)],1)},Ar=[],Mr={render:Ur,staticRenderFns:Ar},Qr=Mr,Kr=r("VU/8"),Hr=v,Gr=Kr(zr,Qr,!1,Hr,null,null),Wr=Gr.exports,Jr={constId:null,projectId:null,constRemark:"",constName:"",constType:""},Yr={name:"constEdit",props:["projectId","constId"],data:function(){return{constTypeOptions:Bt.constTypeOptions,projectList:[],old:be()({},Jr),form:be()({},Jr),rules:{projectId:[{required:!0,type:"number",message:"请选择项目",trigger:"change"}],constRemark:[{required:!0,message:"请输入枚举名称",trigger:"blur"},{max:100,message:"长度不能超过100个字符",trigger:"blur"}],constName:[{required:!0,message:"请输入枚举类名",trigger:"blur"},{max:20,message:"长度不能超过20个字符",trigger:"blur"}],constType:[{required:!0,type:"number",message:"请选择类型",trigger:"change"}]}}},methods:{queryProject:function(){var e=this;return this.$common.getProjectOptions().then(function(t){return e.$common.checkResult(t.data)}).then(function(t){return e.projectList=t.data})},getConst:function(){var e=this;return this.$ajax.get("/generate/meta_const/"+this.constId).then(function(t){return e.$common.checkResult(t.data)}).then(function(t){return e.old=t.data}).catch(function(t){return e.$common.showNotifyError(t)})},reset:function(){for(var e in Jr)this.form[e]=this.old[e]},submit:function(){var e=this;this.$refs.editForm.validate().then(function(){return e.$ajax.put("/generate/meta_const/update",e.form)}).then(function(t){return e.$common.checkResult(t.data)}).then(function(){e.$common.showMsg("success","修改成功"),e.goBack()}).catch(function(t){return e.$common.showNotifyError(t)})},goBack:function(){this.$router.push("/project/"+this.projectId+"/const")}},created:function(){var e=this;ct.a.all([this.getConst(),this.queryProject()]).then(function(){return e.reset()})}},Zr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"constEdit"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/project"}}},[e._v("项目管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/project/"+this.projectId+"/const"}}},[e._v("枚举管理")]),e._v(" "),r("el-breadcrumb-item",[e._v("编辑")])],1),e._v(" "),r("el-row",{attrs:{type:"flex",align:"middle",gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form",{ref:"editForm",staticClass:"editForm",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"项目",prop:"projectId"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择项目",disabled:!0},model:{value:e.form.projectId,callback:function(t){e.$set(e.form,"projectId",t)},expression:"form.projectId"}},e._l(e.projectList,function(e){return r("el-option",{key:e.projectId,attrs:{label:e.projectName,value:e.projectId}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"枚举名称",prop:"constRemark"}},[r("el-input",{attrs:{placeholder:"例如：性别"},model:{value:e.form.constRemark,callback:function(t){e.$set(e.form,"constRemark",t)},expression:"form.constRemark"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"枚举类名",prop:"constName"}},[r("el-input",{attrs:{placeholder:"例如：Sex"},model:{value:e.form.constName,callback:function(t){e.$set(e.form,"constName",t)},expression:"form.constName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"类型",prop:"constType"}},[r("el-radio-group",{model:{value:e.form.constType,callback:function(t){e.$set(e.form,"constType",t)},expression:"form.constType"}},e._l(e.constTypeOptions,function(t){return r("el-radio",{key:t.value,attrs:{border:"",label:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit()}}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:function(t){e.goBack()}}},[e._v("返回")])],1)],1)],1)],1)],1)},Xr=[],eo={render:Zr,staticRenderFns:Xr},to=eo,ro=r("VU/8"),oo=y,lo=ro(Yr,to,!1,oo,null,null),ao=lo.exports,no={constId:null,projectId:null,constRemark:"",constName:"",constType:""},io={name:"constShow",props:["projectId","constId"],data:function(){return{constTypeOptions:Bt.constTypeOptions,form:be()({},no)}},methods:{queryProject:function(){var e=this;return this.$common.getProjectOptions().then(function(t){return e.$common.checkResult(t.data)}).then(function(t){return e.projectList=t.data})},getConst:function(){var e=this;return this.$ajax.get("/generate/meta_const/"+this.constId).then(function(t){return e.$common.checkResult(t.data)}).then(function(t){return e.form=t.data}).catch(function(t){return e.$common.showNotifyError(t)})},goBack:function(){this.$router.push("/project/"+this.projectId+"/const")}},created:function(){var e=this;this.queryProject().then(function(){return e.getConst()})}},so=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"constShow"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/project"}}},[e._v("项目管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/project/"+this.projectId+"/const"}}},[e._v("枚举管理")]),e._v(" "),r("el-breadcrumb-item",[e._v("查看")])],1),e._v(" "),r("el-row",{attrs:{type:"flex",align:"middle",gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form",{ref:"showForm",staticClass:"showForm",attrs:{model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"项目",prop:"projectId"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",disabled:!0},model:{value:e.form.projectId,callback:function(t){e.$set(e.form,"projectId",t)},expression:"form.projectId"}},e._l(e.projectList,function(e){return r("el-option",{key:e.projectId,attrs:{label:e.projectName,value:e.projectId}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"枚举名称",prop:"constRemark"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.form.constRemark,callback:function(t){e.$set(e.form,"constRemark",t)},expression:"form.constRemark"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"枚举类名",prop:"constName"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.form.constName,callback:function(t){e.$set(e.form,"constName",t)},expression:"form.constName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"类型",prop:"constType"}},[r("el-radio-group",{attrs:{disabled:!0},model:{value:e.form.constType,callback:function(t){e.$set(e.form,"constType",t)},expression:"form.constType"}},e._l(e.constTypeOptions,function(t){return r("el-radio",{key:t.value,attrs:{border:"",label:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),r("el-form-item",[r("el-button",{on:{click:function(t){e.goBack()}}},[e._v("返回")])],1)],1)],1)],1)],1)},co=[],uo={render:so,staticRenderFns:co},mo=uo,po=r("VU/8"),fo=g,ho=po(io,mo,!1,fo,null,null),bo=ho.exports,vo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[r("keep-alive",{attrs:{include:"constDetailList"}},[r("router-view")],1)],1)],1)},yo=[],go={render:vo,staticRenderFns:yo},_o=go,jo=r("VU/8"),ko=jo(null,_o,!1,null,null,null),Io=ko.exports,xo={name:"constDetailList",props:["projectId","constId"],data:function(){return{query:{projectId:null,constId:null},queryForm:{projectConstOptions:[],projectConst:[0,0]},activeNum:0,selectItems:[],entities:[],loading:!1}},methods:{selectionChange:function(e){this.selectItems=e,this.activeNum=this.selectItems.length},handleDel:function(){var e=this;if(this.activeNum<=0)return void this.$common.showMsg("warning","请选择枚举值");this.$common.confirm("是否确认删除").then(function(){return e.$ajax.post("/generate/meta_const_detail/deleteBatch",e.selectItems.map(function(e){return e.constDetailId}))}).then(function(){return e.doQuery()})},initProjectOptions:function(){var e=this;return this.$common.getProjectOptions().then(function(t){return e.$common.checkResult(t.data)}).then(function(t){return e.queryForm.projectConstOptions=t.data.map(function(e){return{value:e.projectId,label:e.projectName,children:[]}})})},handleProjectChange:function(e){var t=this,r=e[0],o=this.queryForm.projectConstOptions.find(function(e){return e.value==r});if(!o.children.length)return this.$common.getConstOptions(r).then(function(e){return t.$common.checkResult(e.data)}).then(function(e){return o.children=e.data.entities.map(function(e){return{value:e.constId,label:e.constRemark}})})},handleQuery:function(){if(null==this.queryForm.projectConst[1])return void this.$common.showNotifyError("请选择常量");this.query.projectId=this.queryForm.projectConst[0],this.query.constId=this.queryForm.projectConst[1],this.query.constId!=parseInt(this.constId)&&this.$router.push("/project/"+this.query.projectId+"/const/"+this.query.constId+"/constDetail"),this.doQuery()},doQuery:function(){var e=this;this.query.projectId&&this.query.constId&&(this.loading=!0,this.$ajax.post("/generate/meta_const_detail/list",this.query).then(function(t){return e.$common.checkResult(t.data)}).then(function(t){return e.entities=t.data}).catch(function(t){return e.$common.showNotifyError(t)}).finally(function(){return e.loading=!1}))},handleAdd:function(){this.$router.push("/project/"+this.projectId+"/const/"+this.constId+"/constDetail/add")},handleEdit:function(e){this.$router.push("/project/"+this.projectId+"/const/"+this.constId+"/constDetail/edit/"+e.constDetailId)},handleShow:function(e){this.$router.push("/project/"+this.projectId+"/const/"+this.constId+"/constDetail/show/"+e.constDetailId)}},activated:function(){var e=this,t=parseInt(this.projectId),r=parseInt(this.constId);this.queryForm.projectConst[0]=t,this.queryForm.projectConst[1]=r,this.query.projectId=t,this.query.constId=r,this.initProjectOptions().then(function(){return e.handleProjectChange([t])}).then(function(){return e.doQuery()})}},$o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"constDetailList"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/project"}}},[e._v("项目管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/project/"+this.projectId+"/const"}}},[e._v("枚举管理")]),e._v(" "),r("el-breadcrumb-item",[e._v("枚举值管理")])],1),e._v(" "),r("el-row",{staticStyle:{padding:"10px 0"},attrs:{type:"flex",align:"middle",gutter:20}},[r("el-col",{staticClass:"activeNum",attrs:{span:4}},[e._v("\n      已选择"+e._s(e.activeNum)+"个枚举值\n    ")]),e._v(" "),r("el-col",{staticStyle:{"text-align":"right"},attrs:{span:20}},[r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.queryForm}},[r("el-form-item",[r("el-cascader",{attrs:{placeholder:"请选择枚举",options:e.queryForm.projectConstOptions},on:{"active-item-change":e.handleProjectChange},model:{value:e.queryForm.projectConst,callback:function(t){e.$set(e.queryForm,"projectConst",t)},expression:"queryForm.projectConst"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.handleQuery}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){e.handleAdd(t)}}},[e._v("添加")]),e._v(" "),r("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){e.handleDel(t)}}},[e._v("删除")])],1)],1)],1)],1),e._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.entities},on:{"selection-change":e.selectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),r("el-table-column",{attrs:{property:"detailName",label:"枚举字段名"}}),e._v(" "),r("el-table-column",{attrs:{property:"detailValue",label:"枚举值"}}),e._v(" "),r("el-table-column",{attrs:{property:"detailRemark",label:"备注"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){e.handleShow(t.row)}}},[e._v("查看")]),e._v(" "),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){e.handleEdit(t.row)}}},[e._v("编辑")])]}}])})],1)],1)},wo=[],No={render:$o,staticRenderFns:wo},qo=No,To=r("VU/8"),Fo=_,So=To(xo,qo,!1,Fo,null,null),Co=So.exports,Do={name:"constDetailAdd",props:["projectId","constId"],data:function(){return{form:{constId:null,detailName:"",detailValue:"",detailRemark:""},rules:{detailName:[{required:!0,message:"请输入枚举字段名",trigger:"blur"},{max:20,message:"长度不能超过20个字符",trigger:"blur"}],detailValue:[{required:!0,message:"请输入枚举值",trigger:"blur"},{max:20,message:"长度不能超过20个字符",trigger:"blur"}],detailRemark:[{required:!0,message:"请输入备注",trigger:"blur"},{max:100,message:"长度不能超过100个字符",trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.$refs.addForm.validate().then(function(){return e.$ajax.post("/generate/meta_const_detail/save",e.form)}).then(function(t){return e.$common.checkResult(t.data)}).then(function(){e.$common.showMsg("success","添加成功"),e.goBack()}).catch(function(t){return e.$common.showNotifyError(t)})},goBack:function(){this.$router.push("/project/"+this.projectId+"/const/"+this.constId+"/constDetail")}},created:function(){this.form.constId=parseInt(this.constId)}},Eo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"constDetailAdd"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/project"}}},[e._v("项目管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/project/"+this.projectId+"/const"}}},[e._v("枚举管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/project/"+this.projectId+"/const/"+this.constId+"/constDetail"}}},[e._v("枚举值管理")]),e._v(" "),r("el-breadcrumb-item",[e._v("添加")])],1),e._v(" "),r("el-row",{attrs:{type:"flex",align:"middle",gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form",{ref:"addForm",staticClass:"addForm",attrs:{rules:e.rules,model:e.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"枚举字段名",prop:"detailName"}},[r("el-input",{attrs:{placeholder:"枚举字段名，例如：WOMAN"},model:{value:e.form.detailName,callback:function(t){e.$set(e.form,"detailName",t)},expression:"form.detailName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"枚举值",prop:"detailValue"}},[r("el-input",{attrs:{placeholder:"枚举值，例如：2"},model:{value:e.form.detailValue,callback:function(t){e.$set(e.form,"detailValue",t)},expression:"form.detailValue"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"备注",prop:"detailRemark"}},[r("el-input",{attrs:{placeholder:"备注，例如：女"},model:{value:e.form.detailRemark,callback:function(t){e.$set(e.form,"detailRemark",t)},expression:"form.detailRemark"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit()}}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:function(t){e.goBack()}}},[e._v("返回")])],1)],1)],1)],1)],1)},Oo=[],Ro={render:Eo,staticRenderFns:Oo},Lo=Ro,Vo=r("VU/8"),Bo=j,Po=Vo(Do,Lo,!1,Bo,null,null),zo=Po.exports,Uo={constDetailId:null,constId:null,detailName:"",detailValue:"",detailRemark:""},Ao={name:"constDetailEdit",props:["projectId","constId","constDetailId"],data:function(){return{old:be()({},Uo),form:be()({},Uo),rules:{detailName:[{required:!0,message:"请输入枚举字段名",trigger:"blur"},{max:20,message:"长度不能超过20个字符",trigger:"blur"}],detailValue:[{required:!0,message:"请输入枚举值",trigger:"blur"},{max:20,message:"长度不能超过20个字符",trigger:"blur"}],detailRemark:[{required:!0,message:"请输入备注",trigger:"blur"},{max:100,message:"长度不能超过100个字符",trigger:"blur"}]}}},methods:{getConstDetail:function(){var e=this;return this.$ajax.get("/generate/meta_const_detail/"+this.constDetailId).then(function(t){return e.$common.checkResult(t.data)}).then(function(t){return e.old=t.data}).catch(function(t){return e.$common.showNotifyError(t)})},reset:function(){for(var e in Uo)this.form[e]=this.old[e]},submit:function(){var e=this;this.$refs.editForm.validate().then(function(){return e.$ajax.put("/generate/meta_const_detail/update",e.form)}).then(function(t){return e.$common.checkResult(t.data)}).then(function(){e.$common.showMsg("success","修改成功"),e.goBack()}).catch(function(t){return e.$common.showNotifyError(t)})},goBack:function(){this.$router.push("/project/"+this.projectId+"/const/"+this.constId+"/constDetail")}},created:function(){var e=this;this.getConstDetail().then(function(){return e.reset()})}},Mo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"constDetailEdit"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/project"}}},[e._v("项目管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/project/"+this.projectId+"/const"}}},[e._v("枚举管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/project/"+this.projectId+"/const/"+this.constId+"/constDetail"}}},[e._v("枚举值管理")]),e._v(" "),r("el-breadcrumb-item",[e._v("编辑")])],1),e._v(" "),r("el-row",{attrs:{type:"flex",align:"middle",gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form",{ref:"editForm",staticClass:"editForm",attrs:{rules:e.rules,model:e.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"枚举字段名",prop:"detailName"}},[r("el-input",{attrs:{placeholder:"枚举字段名，例如：WOMAN"},model:{value:e.form.detailName,callback:function(t){e.$set(e.form,"detailName",t)},expression:"form.detailName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"枚举值",prop:"detailValue"}},[r("el-input",{attrs:{placeholder:"枚举值，例如：2"},model:{value:e.form.detailValue,callback:function(t){e.$set(e.form,"detailValue",t)},expression:"form.detailValue"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"备注",prop:"detailRemark"}},[r("el-input",{attrs:{placeholder:"备注，例如：女"},model:{value:e.form.detailRemark,callback:function(t){e.$set(e.form,"detailRemark",t)},expression:"form.detailRemark"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit()}}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:function(t){e.goBack()}}},[e._v("返回")])],1)],1)],1)],1)],1)},Qo=[],Ko={render:Mo,staticRenderFns:Qo},Ho=Ko,Go=r("VU/8"),Wo=k,Jo=Go(Ao,Ho,!1,Wo,null,null),Yo=Jo.exports,Zo={constDetailId:null,constId:null,detailName:"",detailValue:"",detailRemark:""},Xo={name:"constDetailShow",props:["projectId","entityId","constDetailId"],data:function(){return{form:be()({},Zo)}},methods:{getConstDetail:function(){var e=this;return this.$ajax.get("/generate/meta_const_detail/"+this.constDetailId).then(function(t){return e.$common.checkResult(t.data)}).then(function(t){return e.form=t.data}).catch(function(t){return e.$common.showNotifyError(t)})},goBack:function(){this.$router.push("/project/"+this.projectId+"/const/"+this.constId+"/constDetail")}},created:function(){this.getConstDetail()}},el=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"constDetailShow"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/project"}}},[e._v("项目管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/project/"+this.projectId+"/const"}}},[e._v("枚举管理")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/project/"+this.projectId+"/const/"+this.constId+"/constDetail"}}},[e._v("枚举值管理")]),e._v(" "),r("el-breadcrumb-item",[e._v("查看")])],1),e._v(" "),r("el-row",{attrs:{type:"flex",align:"middle",gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form",{ref:"showForm",staticClass:"showForm",attrs:{model:e.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"枚举字段名",prop:"detailName"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.form.detailName,callback:function(t){e.$set(e.form,"detailName",t)},expression:"form.detailName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"枚举值",prop:"detailValue"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.form.detailValue,callback:function(t){e.$set(e.form,"detailValue",t)},expression:"form.detailValue"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"备注",prop:"detailRemark"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.form.detailRemark,callback:function(t){e.$set(e.form,"detailRemark",t)},expression:"form.detailRemark"}})],1),e._v(" "),r("el-form-item",[r("el-button",{on:{click:function(t){e.goBack()}}},[e._v("返回")])],1)],1)],1)],1)],1)},tl=[],rl={render:el,staticRenderFns:tl},ol=rl,ll=r("VU/8"),al=I,nl=ll(Xo,ol,!1,al,null,null),il=nl.exports;x.default.use(R.a);var sl=new R.a({routes:[{path:"",component:A},{path:"/project",component:J,children:[{path:"",component:ae},{path:"add",component:fe},{path:"edit/:projectId",component:we,props:!0},{path:"show/:projectId",component:Re,props:!0}]},{path:"/project/:projectId/entity",component:Ae,props:!0,children:[{path:"",component:Ze,props:!0},{path:"add",component:it,props:!0},{path:"edit/:entityId",component:gt,props:!0},{path:"show/:entityId",component:Tt,props:!0}]},{path:"/project/:projectId/entity/:entityId/field",component:Rt,props:!0,children:[{path:"",component:Wt,props:!0},{path:"add",component:lr,props:!0},{path:"edit/:fieldId",component:fr,props:!0},{path:"show/:fieldId",component:xr,props:!0}]},{path:"/project/:projectId/const",component:Sr,props:!0,children:[{path:"",component:Pr,props:!0},{path:"add",component:Wr,props:!0},{path:"edit/:constId",component:ao,props:!0},{path:"show/:constId",component:bo,props:!0}]},{path:"/project/:projectId/const/:constId/constDetail",component:Io,props:!0,children:[{path:"",component:Co,props:!0},{path:"add",component:zo,props:!0},{path:"edit/:constDetailId",component:Yo,props:!0},{path:"show/:constDetailId",component:il,props:!0}]}],scrollBehavior:function(e,t,r){return{x:0,y:0}}}),cl=r("pFYg"),ul=r.n(cl),ml=r("mtWM"),dl=r.n(ml),pl=dl.a.create({baseURL:"",timeout:6e4,responseType:"json",headers:{"Content-Type":"application/json; charset=utf-8"}}),fl={install:function(e,t){e.prototype.$ajax=pl,e.prototype.$common={BASE_API_URL:"",getProjectOptions:function(){return pl.post("/generate/meta_project/list",{})},getEntityOptions:function(e){return pl.post("/generate/meta_entity/list",{projectId:e,pageSize:1e3,pageNo:1})},getConstOptions:function(e){return pl.post("/generate/meta_const/list",{projectId:e,pageSize:1e3,pageNo:1})},confirm:function(t){return e.prototype.$confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})},showNotify:function(t,r,o){return e.prototype.$notify({title:r,type:t,message:o})},showNotifyError:function(e){if(!1===e)return this.showNotify("error","出错了","表单校验失败");if("string"==typeof e&&e.constructor==String)return this.showNotify("error","出错了",e);if("object"==(void 0===e?"undefined":ul()(e))){if(e.constructor==Error){if(e.response&&500==e.response.status)return this.showNotify("error","出错了","系统内部错误");if(e.message)return this.showNotify("error","出错了",e.message)}if(e.errorCode)return this.showNotify("error","出错了",e.errorMsg)}return this.showNotify("error","出错了","")},showMsg:function(t,r){e.prototype.$message({message:r,type:t})},checkResult:function(e){return new ct.a(function(t,r){return e?0===e.errorCode?t(e):r(e.errorMsg):r()})},removeBlankField:function(e){var t={};for(var r in e)if("string"==typeof e[r]){var o=e[r].trim();if(""==o)continue;t[r]=o}else t[r]=e[r];return t}}}},hl=(r("SysY"),r("D/PP"),r("D4uH"));x.default.config.productionTip=!1,x.default.use(w.a),x.default.use(fl),x.default.component("icon",hl.a),new x.default({el:"#app",router:sl,render:function(e){return e(O)}})},SQvr:function(e,t){},SVf7:function(e,t){},SZ5d:function(e,t){},SysY:function(e,t){},VpL8:function(e,t){},Wbqc:function(e,t){},d7id:function(e,t){},galg:function(e,t){},l2mU:function(e,t){},ogSn:function(e,t){},rByS:function(e,t){},sr4R:function(e,t){},tvR6:function(e,t){},ybKS:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.198a6c9bf3b58b37746c.js.map